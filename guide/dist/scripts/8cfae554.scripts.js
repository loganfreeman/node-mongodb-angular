"use strict";angular.module("theme.services",[]).service("$global",["$rootScope","EnquireService","$document",function($rootScope,EnquireService,$document){this.settings={fixedHeader:!0,headerBarHidden:!0,leftbarCollapsed:!1,leftbarShown:!1,rightbarCollapsed:!1,fullscreen:!1,layoutHorizontal:!1,layoutHorizontalLargeIcons:!1,layoutBoxed:!1,showSearchCollapsed:!1};var brandColors={"default":"#ecf0f1",inverse:"#95a5a6",primary:"#3498db",success:"#2ecc71",warning:"#f1c40f",danger:"#e74c3c",info:"#1abcaf",brown:"#c0392b",indigo:"#9b59b6",orange:"#e67e22",midnightblue:"#34495e",sky:"#82c4e6",magenta:"#e73c68",purple:"#e044ab",green:"#16a085",grape:"#7a869c",toyo:"#556b8d",alizarin:"#e74c3c"};this.getBrandColor=function(name){return brandColors[name]?brandColors[name]:brandColors["default"]},$document.ready(function(){EnquireService.register("screen and (max-width: 767px)",{match:function(){$rootScope.$broadcast("globalStyles:maxWidth767",!0)},unmatch:function(){$rootScope.$broadcast("globalStyles:maxWidth767",!1)}})}),this.get=function(key){return this.settings[key]},this.set=function(key,value){this.settings[key]=value,$rootScope.$broadcast("globalStyles:changed",{key:key,value:this.settings[key]}),$rootScope.$broadcast("globalStyles:changed:"+key,this.settings[key])},this.values=function(){return this.settings}}]).factory("pinesNotifications",function(){return{notify:function(args){var notification=new PNotify(args);return notification.notify=notification.update,notification}}}).factory("progressLoader",function(){return{start:function(){$(document).skylo("start")},set:function(position){$(document).skylo("set",position)},end:function(){$(document).skylo("end")},get:function(){return $(document).skylo("get")},inch:function(amount){$(document).skylo("show",function(){$(document).skylo("inch",amount)})}}}).factory("EnquireService",["$window",function($window){return $window.enquire}]).factory("$bootbox",["$modal",function($modal){return void 0==$.fn.modal&&($.fn.modal=function(directive){var that=this;if("hide"==directive)return void(this.data("bs.modal")&&(this.data("bs.modal").close(),$(that).remove()));if("show"!=directive){var modalInstance=$modal.open({template:$(this).find(".modal-content").html()});this.data("bs.modal",modalInstance),setTimeout(function(){$(".modal.ng-isolate-scope").remove(),$(that).css({opacity:1,display:"block"}).addClass("in")},100)}}),bootbox}]).service("lazyLoad",["$q","$timeout",function($q,$t){var deferred=$q.defer(),promise=deferred.promise;this.load=function(files){return angular.forEach(files,function(file){file.indexOf(".js")>-1&&!function(d,script){var fDeferred=$q.defer();script=d.createElement("script"),script.type="text/javascript",script.async=!0,script.onload=function(){$t(function(){fDeferred.resolve()})},script.onerror=function(){$t(function(){fDeferred.reject()})},promise=promise.then(function(){return script.src=file,d.getElementsByTagName("head")[0].appendChild(script),fDeferred.promise})}(document)}),deferred.resolve(),promise}}]).filter("safe_html",["$sce",function($sce){return function(val){return $sce.trustAsHtml(val)}}]),angular.module("theme.directives",[]).constant("REGEXP",{INTEGER_REGEXP:/^\-?\d+$/}).controller("TimeCtrl",function($scope,$timeout){$scope.clock="loading clock...",$scope.tickInterval=1e3;var tick=function(){$scope.clock=Date.now(),$timeout(tick,$scope.tickInterval)};$timeout(tick,$scope.tickInterval)}).directive("disableAnimation",["$animate",function($animate){return{restrict:"A",link:function($scope,$element,$attrs){$attrs.$observe("disableAnimation",function(value){$animate.enabled(!value,$element)})}}}]).directive("slideOut",function(){return{restrict:"A",scope:{show:"=slideOut"},link:function(scope,element,attr){element.hide(),scope.$watch("show",function(newVal,oldVal){newVal!==oldVal&&element.slideToggle({complete:function(){scope.$apply()}})})}}}).directive("slideOutNav",["$timeout",function($t){return{restrict:"A",scope:{show:"=slideOutNav"},link:function(scope,element,attr){scope.$watch("show",function(newVal,oldVal){return $("body").hasClass("collapse-leftbar")?void(1==newVal?element.css("display","block"):element.css("display","none")):void(1==newVal?element.slideDown({complete:function(){$t(function(){scope.$apply()})}}):0==newVal&&element.slideUp({complete:function(){$t(function(){scope.$apply()})}}))})}}}]).directive("panel",function(){return{restrict:"E",transclude:!0,scope:{panelClass:"@",heading:"@",panelIcon:"@"},templateUrl:"templates/panel.html"}}).directive("pulsate",function(){return{scope:{pulsate:"="},link:function(scope,element,attr){$(element).pulsate(scope.pulsate)}}}).directive("prettyprint",function(){return{restrict:"C",link:function(scope,element,attrs){element.html(prettyPrintOne(element.html(),"",!0))}}}).directive("passwordVerify",function(){return{require:"ngModel",scope:{passwordVerify:"="},link:function(scope,element,attrs,ctrl){scope.$watch(function(){var combined;return(scope.passwordVerify||ctrl.$viewValue)&&(combined=scope.passwordVerify+"_"+ctrl.$viewValue),combined},function(value){value&&ctrl.$parsers.unshift(function(viewValue){var origin=scope.passwordVerify;return origin!==viewValue?void ctrl.$setValidity("passwordVerify",!1):(ctrl.$setValidity("passwordVerify",!0),viewValue)})})}}}).directive("backgroundSwitcher",function(){return{restrict:"EA",link:function(scope,element,attr){$(element).click(function(){$("body").css("background",$(element).css("background"))})}}}).directive("panelControls",[function(){return{restrict:"E",require:"?^tabset",link:function(scope,element,attrs,tabsetCtrl){var panel=$(element).closest(".panel");0==panel.hasClass(".ng-isolate-scope")&&$(element).appendTo(panel.find(".options"))}}}]).directive("panelControlCollapse",function(){return{restrict:"EAC",link:function(scope,element,attr){return element.bind("click",function(){$(element).toggleClass("fa-chevron-down fa-chevron-up"),$(element).closest(".panel").find(".panel-body").slideToggle({duration:200}),$(element).closest(".panel-heading").toggleClass("rounded-bottom")}),!1}}}).directive("icheck",function($timeout,$parse){return{require:"?ngModel",link:function($scope,element,$attrs,ngModel){return $timeout(function(){var parentLabel=element.parent("label");parentLabel.length&&parentLabel.addClass("icheck-label");var value;return value=$attrs.value,$scope.$watch($attrs.ngModel,function(newValue){$(element).iCheck("update")}),$(element).iCheck({checkboxClass:"icheckbox_minimal-blue",radioClass:"iradio_minimal-blue"}).on("ifChanged",function(event){return"checkbox"===$(element).attr("type")&&$attrs.ngModel&&$scope.$apply(function(){return ngModel.$setViewValue(event.target.checked)}),"radio"===$(element).attr("type")&&$attrs.ngModel?$scope.$apply(function(){return ngModel.$setViewValue(value)}):void 0})})}}}).directive("knob",function(){return{restrict:"EA",template:'<input class="dial" type="text"/>',scope:{options:"="},replace:!0,link:function(scope,element,attr){$(element).knob(scope.options)}}}).directive("uiBsSlider",["$timeout",function($timeout){return{link:function(scope,element,attr){$timeout(function(){element.slider()})}}}]).directive("tileLarge",function(){return{restrict:"E",scope:{item:"=data"},templateUrl:"templates/tile-large.html",replace:!0,transclude:!0}}).directive("tileMini",function(){return{restrict:"E",scope:{item:"=data"},replace:!0,templateUrl:"templates/tile-mini.html"}}).directive("tile",function(){return{restrict:"E",scope:{heading:"@",type:"@"},transclude:!0,templateUrl:"templates/tile-generic.html",link:function(scope,element,attr){var heading=element.find("tile-heading");heading.length&&heading.appendTo(element.find(".tiles-heading"))},replace:!0}}).directive("jscrollpane",["$timeout",function($timeout){return{restrict:"A",scope:{options:"=jscrollpane"},link:function(scope,element,attr){$timeout(function(){-1!=navigator.appVersion.indexOf("Win")?element.jScrollPane($.extend({mouseWheelSpeed:20},scope.options)):element.jScrollPane(scope.options),element.on("click",".jspVerticalBar",function(event){event.preventDefault(),event.stopPropagation()}),element.bind("mousewheel",function(e){e.preventDefault()})})}}}]).directive("stickyScroll",function(){return{restrict:"A",link:function(scope,element,attr){function stickyTop(){var topMax=parseInt(attr.stickyScroll),headerHeight=$("header").height();if(headerHeight>topMax&&(topMax=headerHeight),0==$("body").hasClass("static-header"))return element.css("top",topMax+"px");var window_top=$(window).scrollTop();element.offset().top;topMax>window_top?element.css("top",topMax-window_top+"px"):element.css("top","0px")}$(function(){$(window).scroll(stickyTop),stickyTop()})}}}).directive("rightbarRightPosition",function(){return{restrict:"A",scope:{isFixedLayout:"=rightbarRightPosition"},link:function(scope,element,attr){scope.$watch("isFixedLayout",function(newVal,oldVal){newVal!=oldVal&&setTimeout(function(){var $pc=$("#page-content"),ending_right=$(window).width()-($pc.offset().left+$pc.outerWidth());0>ending_right&&(ending_right=0),$("#page-rightbar").css("right",ending_right)},100)})}}}).directive("fitHeight",["$window","$timeout","$location",function($window,$timeout,$location){return{restrict:"A",scope:!0,link:function(scope,element,attr){scope.docHeight=$(document).height();var setHeight=function(newVal){var diff=$("header").height();$("body").hasClass("layout-horizontal")&&(diff+=112),newVal-diff>element.outerHeight()?element.css("min-height",newVal-diff+"px"):element.css("min-height",$(window).height()-diff)};scope.$watch("docHeight",function(newVal,oldVal){setHeight(newVal)}),$(window).on("resize",function(){setHeight($(document).height())});var resetHeight=function(){scope.docHeight=$(document).height(),$timeout(resetHeight,1e3)};$timeout(resetHeight,1e3)}}}]).directive("jscrollpaneOn",["$timeout",function($timeout){return{restrict:"A",scope:{applyon:"=jscrollpaneOn"},link:function(scope,element,attr){scope.$watch("applyon",function(newVal){if(0==newVal){var api=element.data("jsp");return void(api&&api.destroy())}$timeout(function(){element.jScrollPane({autoReinitialise:!0})})})}}}]).directive("backToTop",function(){return{restrict:"AE",link:function(scope,element,attr){element.click(function(e){$("body").scrollTop(0)})}}}).directive("mongooseError",function(){return{restrict:"A",require:"ngModel",link:function(scope,element,attrs,ngModel){element.on("keydown",function(){return ngModel.$setValidity("mongoose",!0)})}}}).directive("match",function($parse){return{require:"?ngModel",restrict:"A",link:function(scope,elem,attrs,ctrl){function getMatchValue(){var match=matchGetter(scope);return angular.isObject(match)&&match.hasOwnProperty("$viewValue")&&(match=match.$viewValue),match}if(!ctrl)return void(console&&console.warn&&console.warn("Match validation requires ngModel to be on the element"));var matchGetter=$parse(attrs.match);scope.$watch(getMatchValue,function(){ctrl.$$parseAndValidate()}),ctrl.$validators.match=function(){return ctrl.$viewValue===getMatchValue()}}}}).directive("integer",function(REGEXP){return{require:"ngModel",link:function(scope,elm,attrs,ctrl){ctrl.$validators.integer=function(modelValue,viewValue){return ctrl.$isEmpty(modelValue)?!0:REGEXP.INTEGER_REGEXP.test(viewValue)?!0:!1}}}}).directive("ipaddress",function(){return{require:"ngModel",link:function(scope,elem,attrs,ctrl){ctrl.$validators.ipaddress=function(modelValue,viewValue){if(ctrl.$isEmpty(modelValue))return!1;var matcher;if(null!=(matcher=viewValue.match(/^([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/))){var i;for(i=1;5>i;i++){var octet=parseInt(matcher[i]);if(octet>255)return!1}return!0}return!1}}}}).directive("netmask",function(){return{require:"ngModel",link:function(scope,elem,attrs,ctrl){ctrl.$validators.netmask=function(modelValue,viewValue){if(ctrl.$isEmpty(modelValue))return!1;var matcher;if(null!=(matcher=viewValue.match(/^([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/))){var i,availableMasks=["255","254","252","248","240","224","192","128","0"],previous="255";for(i=1;5>i;i++)if("255"===previous&&-1!==availableMasks.indexOf(matcher[i]))previous=matcher[i];else if("0"!==matcher[i])return!1;return!0}return!1}}}}).directive("realtimeLineChart",["$window",function($window){return{restrict:"EA",link:function(scope,element,attrs,controller){function createGraph(data){plot.xScale.domain(d3.extent(data,function(d){return d.date})),plot.yScale.domain(d3.extent(data,function(d){return d.close})),plot.axis=plot.svg.append("g").attr("class","x axis").attr("transform","translate(0,"+plot.height+")").call(plot.xAxis),plot.svg.append("g").attr("class","y axis").call(plot.yAxis),plot.svg.append("defs").append("clipPath").attr("id","clip-plot").append("rect").attr("width",plot.width).attr("height",plot.height),plot.path=plot.svg.append("path").datum(data).attr("clip-path","url(#clip-plot)").attr("class","line").attr("d",plot.line),addZoomArea(),plot.isGraphCreationDone=!0}function updateGraph(data){plot.isZoomed||(plot.path.attr("d",plot.line).datum(data).transition().duration(500).ease("linear"),plot.xScale.domain(d3.extent(data,function(d){return d.date})),zoomArea.xScale.domain(d3.extent(scope.allData,function(d){return d.date})),plot.axis.call(plot.xAxis).transition().duration(500).ease("linear"),zoomArea.axis.call(zoomArea.xAxis).transition().duration(500).ease("linear"))}function addZoomArea(){function onBrush(){var b;brush.empty()?(plot.isZoomed=!1,b=zoomArea.xScale.domain()):(plot.isZoomed=!0,b=brush.extent()),plot.xScale.domain(b),plot.path.datum(scope.allData).attr("d",plot.line),plot.axis.call(plot.xAxis)}function onBrushEnd(){brush.empty()&&clearBrush(),event.stopPropagation()}function clearBrush(){d3.select(".brush").call(brush.clear()),plot.isZoomed=!1}zoomArea.xScale=d3.time.scale().range([0,plot.width]).domain(plot.xScale.domain()),zoomArea.xAxis=d3.svg.axis().scale(zoomArea.xScale).tickSize(zoomArea.height).tickPadding(-10).orient("bottom"),zoomArea.svg=d3.svg.area().x(function(d){return zoomArea.xScale(d.date)}).y0(zoomArea.height).y1(0),d3.select("body").append("br"),d3.select("body").append("button").text("Clear zoom").on("click",function(){clearBrush()});var brush=d3.svg.brush().x(zoomArea.xScale).on("brush",onBrush).on("brushend",onBrushEnd),context=plot.svg.append("g").attr("class","context").attr("transform","translate(0,"+(plot.height+plot.margin.top+zoomArea.height)+")");zoomArea.axis=context.append("g").attr("class","x axis top").attr("transform","translate(0,0)").call(zoomArea.xAxis),context.append("g").attr("class","x brush").call(brush).selectAll("rect").attr("y",0).attr("height",zoomArea.height)}var d3=$window.d3,plot={margins:null,width:null,height:null,svg:null,isZoomed:!1,isGraphCreationDone:!1},zoomArea={height:50};d3.time.format("%d-%b-%y").parse;plot.margin={top:20,right:20,bottom:150,left:50},plot.width=960-plot.margin.left-plot.margin.right,plot.height=500-plot.margin.top-plot.margin.bottom,plot.svg=d3.select("body").append("svg").attr("width",plot.width+plot.margin.left+plot.margin.right).attr("height",plot.height+plot.margin.top+plot.margin.bottom).append("g").attr("transform","translate("+plot.margin.left+","+plot.margin.top+")"),plot.xScale=d3.time.scale().range([0,plot.width]),plot.yScale=d3.scale.linear().range([plot.height,0]),plot.xAxis=d3.svg.axis().scale(plot.xScale).orient("bottom"),plot.yAxis=d3.svg.axis().scale(plot.yScale).orient("left"),plot.line=d3.svg.line().x(function(d){return plot.xScale(d.date)}).y(function(d){return plot.yScale(d.close)}),scope.$watchCollection("plotData",function(newData,oldData){newData.length>0&&(plot.isGraphCreationDone?updateGraph(newData):createGraph(newData))})}}}]),angular.module("themes.nvd3",[]).factory("configurationUtils",function(){function processEvents(chart,scope){chart.dispatch&&(chart.dispatch.tooltipShow&&chart.dispatch.on("tooltipShow.directive",function(event){scope.$emit("tooltipShow.directive",event)}),chart.dispatch.tooltipHide&&chart.dispatch.on("tooltipHide.directive",function(event){scope.$emit("tooltipHide.directive",event)}),chart.dispatch.beforeUpdate&&chart.dispatch.on("beforeUpdate.directive",function(event){scope.$emit("beforeUpdate.directive",event)}),chart.dispatch.stateChange&&chart.dispatch.on("stateChange.directive",function(event){scope.$emit("stateChange.directive",event)}),chart.dispatch.changeState&&chart.dispatch.on("changeState.directive",function(event){scope.$emit("changeState.directive",event)})),chart.lines&&(chart.lines.dispatch.on("elementMouseover.tooltip.directive",function(event){scope.$emit("elementMouseover.tooltip.directive",event)}),chart.lines.dispatch.on("elementMouseout.tooltip.directive",function(event){scope.$emit("elementMouseout.tooltip.directive",event)}),chart.lines.dispatch.on("elementClick.directive",function(event){scope.$emit("elementClick.directive",event)})),chart.stacked&&chart.stacked.dispatch&&(chart.stacked.dispatch.on("areaClick.toggle.directive",function(event){scope.$emit("areaClick.toggle.directive",event)}),chart.stacked.dispatch.on("tooltipShow.directive",function(event){scope.$emit("tooltipShow.directive",event)}),chart.stacked.dispatch.on("tooltipHide.directive",function(event){scope.$emit("tooltipHide.directive",event)})),chart.interactiveLayer&&(chart.interactiveLayer.elementMouseout&&chart.interactiveLayer.dispatch.on("elementMouseout.directive",function(event){scope.$emit("elementMouseout.directive",event)}),chart.interactiveLayer.elementMousemove&&chart.interactiveLayer.dispatch.on("elementMousemove.directive",function(event){scope.$emit("elementMousemove.directive",event)})),chart.discretebar&&(chart.discretebar.dispatch.on("elementMouseover.tooltip.directive",function(event){scope.$emit("elementMouseover.tooltip.directive",event)}),chart.discretebar.dispatch.on("elementMouseout.tooltip.directive",function(event){scope.$emit("elementMouseover.tooltip.directive",event)}),chart.discretebar.dispatch.on("elementClick.directive",function(event){scope.$emit("elementClick.directive",event)})),chart.multibar&&(chart.multibar.dispatch.on("elementMouseover.tooltip.directive",function(event){scope.$emit("elementMouseover.tooltip.directive",event)}),chart.multibar.dispatch.on("elementMouseout.tooltip.directive",function(event){scope.$emit("elementMouseover.tooltip.directive",event)}),chart.multibar.dispatch.on("elementClick.directive",function(event){scope.$emit("elementClick.directive",event)})),chart.pie&&(chart.pie.dispatch.on("elementMouseover.tooltip.directive",function(event){scope.$emit("elementMouseover.tooltip.directive",event)}),chart.pie.dispatch.on("elementMouseout.tooltip.directive",function(event){scope.$emit("elementMouseover.tooltip.directive",event)}),chart.pie.dispatch.on("elementClick.directive",function(event){scope.$emit("elementClick.directive",event)})),chart.scatter&&(chart.scatter.dispatch.on("elementMouseover.tooltip.directive",function(event){scope.$emit("elementMouseover.tooltip.directive",event)}),chart.scatter.dispatch.on("elementMouseout.tooltip.directive",function(event){scope.$emit("elementMouseover.tooltip.directive",event)})),chart.bullet&&(chart.bullet.dispatch.on("elementMouseover.tooltip.directive",function(event){scope.$emit("elementMouseover.tooltip.directive",event)}),chart.bullet.dispatch.on("elementMouseout.tooltip.directive",function(event){scope.$emit("elementMouseover.tooltip.directive",event)})),chart.legend&&(chart.legend.dispatch.on("stateChange.legend.directive",function(event){scope.$emit("stateChange.legend.directive",event)}),chart.legend.dispatch.on("legendClick.directive",function(d,i){scope.$emit("legendClick.directive",d,i)}),chart.legend.dispatch.on("legendDblclick.directive",function(d,i){scope.$emit("legendDblclick.directive",d,i)}),chart.legend.dispatch.on("legendMouseover.directive",function(d,i){scope.$emit("legendMouseover.directive",d,i)})),chart.controls&&chart.controls.legendClick&&chart.controls.dispatch.on("legendClick.directive",function(d,i){scope.$emit("legendClick.directive",d,i)})}function initializeLegendMargin(scope,attrs){var margin=scope.$eval(attrs.legendmargin)||{left:0,top:5,bottom:5,right:0};"object"!=typeof margin&&(margin={left:margin,top:margin,bottom:margin,right:margin}),scope.legendmargin=margin}function configureLegend(chart,scope,attrs){chart.legend&&attrs.showlegend&&"true"===attrs.showlegend&&(initializeLegendMargin(scope,attrs),chart.legend.margin(scope.legendmargin),chart.legend.width(void 0===attrs.legendwidth?400:+attrs.legendwidth),chart.legend.height(void 0===attrs.legendheight?20:+attrs.legendheight),chart.legend.key(void 0===attrs.legendkey?function(d){return d.key}:scope.legendkey()),chart.legend.color(void 0===attrs.legendcolor?nv.utils.defaultColor():scope.legendcolor()),chart.legend.align(void 0===attrs.legendalign?!0:"true"===attrs.legendalign),chart.legend.rightAlign(void 0===attrs.legendrightalign?!0:"true"===attrs.legendrightalign),chart.legend.updateState(void 0===attrs.legendupdatestate?!0:"true"===attrs.legendupdatestate),chart.legend.radioButtonMode(void 0===attrs.legendradiobuttonmode?!1:"true"===attrs.legendradiobuttonmode))}function initializeMargin(scope,attrs){var margin=scope.$eval(attrs.margin)||{left:50,top:50,bottom:50,right:50};"object"!=typeof margin&&(margin={left:margin,top:margin,bottom:margin,right:margin}),scope.margin=margin}function checkElementID(scope,attrs,element,chart,data){configureXaxis(chart,scope,attrs),configureX2axis(chart,scope,attrs),configureYaxis(chart,scope,attrs),configureY1axis(chart,scope,attrs),configureY2axis(chart,scope,attrs),configureLegend(chart,scope,attrs),processEvents(chart,scope);var dataAttributeChartID;attrs.id?(angular.isArray(data)&&0===data.length&&d3.select("#"+attrs.id+" svg").remove(),d3.select("#"+attrs.id+" svg").empty()&&d3.select("#"+attrs.id).append("svg"),d3.select("#"+attrs.id+" svg").attr("height",scope.height).attr("width",scope.width).datum(data).transition().duration(void 0===attrs.transitionduration?250:+attrs.transitionduration).call(chart)):(dataAttributeChartID="chartid"+Math.floor(1000000001*Math.random()),angular.element(element).attr("data-chartid",dataAttributeChartID),d3.select("[data-chartid="+dataAttributeChartID+"] svg").empty()?d3.select("[data-chartid="+dataAttributeChartID+"]").append("svg").attr("height",scope.height).attr("width",scope.width).datum(data).transition().duration(void 0===attrs.transitionduration?250:+attrs.transitionduration).call(chart):d3.select("[data-chartid="+dataAttributeChartID+"] svg").attr("height",scope.height).attr("width",scope.width).datum(data).transition().duration(void 0===attrs.transitionduration?250:+attrs.transitionduration).call(chart))}function configureXaxis(chart,scope,attrs){attrs.xaxisorient&&chart.xAxis.orient(attrs.xaxisorient),attrs.xaxisticks&&chart.xAxis.scale().ticks(attrs.xaxisticks),attrs.xaxistickvalues&&(Array.isArray(scope.$eval(attrs.xaxistickvalues))?chart.xAxis.tickValues(scope.$eval(attrs.xaxistickvalues)):"function"==typeof scope.xaxistickvalues()&&chart.xAxis.tickValues(scope.xaxistickvalues())),attrs.xaxisticksubdivide&&chart.xAxis.tickSubdivide(scope.xaxisticksubdivide()),attrs.xaxisticksize&&chart.xAxis.tickSize(scope.xaxisticksize()),attrs.xaxistickpadding&&chart.xAxis.tickPadding(scope.xaxistickpadding()),attrs.xaxistickformat&&chart.xAxis.tickFormat(scope.xaxistickformat()),attrs.xaxislabel&&chart.xAxis.axisLabel(attrs.xaxislabel),attrs.xaxisscale&&chart.xAxis.scale(scope.xaxisscale()),attrs.xaxisdomain&&(Array.isArray(scope.$eval(attrs.xaxisdomain))?chart.xDomain(scope.$eval(attrs.xaxisdomain)):"function"==typeof scope.xaxisdomain()&&chart.xDomain(scope.xaxisdomain())),attrs.xaxisrange&&(Array.isArray(scope.$eval(attrs.xaxisrange))?chart.xRange(scope.$eval(attrs.xaxisrange)):"function"==typeof scope.xaxisrange()&&chart.xRange(scope.xaxisrange())),attrs.xaxisrangeband&&chart.xAxis.rangeBand(scope.xaxisrangeband()),attrs.xaxisrangebands&&chart.xAxis.rangeBands(scope.xaxisrangebands()),attrs.xaxisshowmaxmin&&chart.xAxis.showMaxMin("true"===attrs.xaxisshowmaxmin),attrs.xaxishighlightzero&&chart.xAxis.highlightZero("true"===attrs.xaxishighlightzero),attrs.xaxisrotatelabels&&chart.xAxis.rotateLabels(+attrs.xaxisrotatelabels),attrs.xaxisstaggerlabels&&chart.xAxis.staggerLabels("true"===attrs.xaxisstaggerlabels),attrs.xaxislabeldistance&&chart.xAxis.axisLabelDistance(+attrs.xaxislabeldistance)}function configureX2axis(chart,scope,attrs){attrs.x2axisorient&&chart.x2Axis.orient(attrs.x2axisorient),attrs.x2axisticks&&chart.x2Axis.scale().ticks(attrs.x2axisticks),attrs.x2axistickvalues&&(Array.isArray(scope.$eval(attrs.x2axistickvalues))?chart.x2Axis.tickValues(scope.$eval(attrs.x2axistickvalues)):"function"==typeof scope.xaxistickvalues()&&chart.x2Axis.tickValues(scope.x2axistickvalues())),attrs.x2axisticksubdivide&&chart.x2Axis.tickSubdivide(scope.x2axisticksubdivide()),attrs.x2axisticksize&&chart.x2Axis.tickSize(scope.x2axisticksize()),attrs.x2axistickpadding&&chart.x2Axis.tickPadding(scope.x2axistickpadding()),attrs.x2axistickformat&&chart.x2Axis.tickFormat(scope.x2axistickformat()),attrs.x2axislabel&&chart.x2Axis.axisLabel(attrs.x2axislabel),attrs.x2axisscale&&chart.x2Axis.scale(scope.x2axisscale()),attrs.x2axisdomain&&(Array.isArray(scope.$eval(attrs.x2axisdomain))?chart.x2Axis.domain(scope.$eval(attrs.x2axisdomain)):"function"==typeof scope.x2axisdomain()&&chart.x2Axis.domain(scope.x2axisdomain())),attrs.x2axisrange&&(Array.isArray(scope.$eval(attrs.x2axisrange))?chart.x2Axis.range(scope.$eval(attrs.x2axisrange)):"function"==typeof scope.x2axisrange()&&chart.x2Axis.range(scope.x2axisrange())),attrs.x2axisrangeband&&chart.x2Axis.rangeBand(scope.x2axisrangeband()),attrs.x2axisrangebands&&chart.x2Axis.rangeBands(scope.x2axisrangebands()),attrs.x2axisshowmaxmin&&chart.x2Axis.showMaxMin("true"===attrs.x2axisshowmaxmin),attrs.x2axishighlightzero&&chart.x2Axis.highlightZero("true"===attrs.x2axishighlightzero),attrs.x2axisrotatelables&&chart.x2Axis.rotateLabels(+attrs.x2axisrotatelables),attrs.x2axisstaggerlabels&&chart.x2Axis.staggerLabels("true"===attrs.x2axisstaggerlabels),attrs.x2axislabeldistance&&chart.x2Axis.axisLabelDistance(+attrs.x2axislabeldistance)}function configureYaxis(chart,scope,attrs){attrs.yaxisorient&&chart.yAxis.orient(attrs.yaxisorient),attrs.yaxisticks&&chart.yAxis.scale().ticks(attrs.yaxisticks),attrs.yaxistickvalues&&(Array.isArray(scope.$eval(attrs.yaxistickvalues))?chart.yAxis.tickValues(scope.$eval(attrs.yaxistickvalues)):"function"==typeof scope.yaxistickvalues()&&chart.yAxis.tickValues(scope.yaxistickvalues())),attrs.yaxisticksubdivide&&chart.yAxis.tickSubdivide(scope.yaxisticksubdivide()),attrs.yaxisticksize&&chart.yAxis.tickSize(scope.yaxisticksize()),attrs.yaxistickpadding&&chart.yAxis.tickPadding(scope.yaxistickpadding()),attrs.yaxistickformat&&chart.yAxis.tickFormat(scope.yaxistickformat()),attrs.yaxislabel&&chart.yAxis.axisLabel(attrs.yaxislabel),attrs.yaxisscale&&chart.yAxis.scale(scope.yaxisscale()),attrs.yaxisdomain&&(Array.isArray(scope.$eval(attrs.yaxisdomain))?chart.yDomain(scope.$eval(attrs.yaxisdomain)):"function"==typeof scope.yaxisdomain()&&chart.yDomain(scope.yaxisdomain())),attrs.yaxisrange&&(Array.isArray(scope.$eval(attrs.yaxisrange))?chart.yRange(scope.$eval(attrs.yaxisrange)):"function"==typeof scope.yaxisrange()&&chart.yRange(scope.yaxisrange())),attrs.yaxisrangeband&&chart.yAxis.rangeBand(scope.yaxisrangeband()),attrs.yaxisrangebands&&chart.yAxis.rangeBands(scope.yaxisrangebands()),attrs.yaxisshowmaxmin&&chart.yAxis.showMaxMin("true"===attrs.yaxisshowmaxmin),attrs.yaxishighlightzero&&chart.yAxis.highlightZero("true"===attrs.yaxishighlightzero),attrs.yaxisrotatelabels&&chart.yAxis.rotateLabels(+attrs.yaxisrotatelabels),attrs.yaxisrotateylabel&&chart.yAxis.rotateYLabel("true"===attrs.yaxisrotateylabel),attrs.yaxisstaggerlabels&&chart.yAxis.staggerLabels("true"===attrs.yaxisstaggerlabels),attrs.yaxislabeldistance&&chart.yAxis.axisLabelDistance(+attrs.yaxislabeldistance)}function configureY1axis(chart,scope,attrs){attrs.y1axisticks&&chart.y1Axis.scale().ticks(attrs.y1axisticks),attrs.y1axistickvalues&&(Array.isArray(scope.$eval(attrs.y1axistickvalues))?chart.y1Axis.tickValues(scope.$eval(attrs.y1axistickvalues)):"function"==typeof scope.y1axistickvalues()&&chart.y1Axis.tickValues(scope.y1axistickvalues())),attrs.y1axisticksubdivide&&chart.y1Axis.tickSubdivide(scope.y1axisticksubdivide()),attrs.y1axisticksize&&chart.y1Axis.tickSize(scope.y1axisticksize()),attrs.y1axistickpadding&&chart.y1Axis.tickPadding(scope.y1axistickpadding()),attrs.y1axistickformat&&chart.y1Axis.tickFormat(scope.y1axistickformat()),attrs.y1axislabel&&chart.y1Axis.axisLabel(attrs.y1axislabel),attrs.y1axisscale&&chart.y1Axis.yScale(scope.y1axisscale()),attrs.y1axisdomain&&(Array.isArray(scope.$eval(attrs.y1axisdomain))?chart.y1Axis.domain(scope.$eval(attrs.y1axisdomain)):"function"==typeof scope.y1axisdomain()&&chart.y1Axis.domain(scope.y1axisdomain())),attrs.y1axisrange&&(Array.isArray(scope.$eval(attrs.y1axisrange))?chart.y1Axis.range(scope.$eval(attrs.y1axisrange)):"function"==typeof scope.y1axisrange()&&chart.y1Axis.range(scope.y1axisrange())),attrs.y1axisrangeband&&chart.y1Axis.rangeBand(scope.y1axisrangeband()),attrs.y1axisrangebands&&chart.y1Axis.rangeBands(scope.y1axisrangebands()),attrs.y1axisshowmaxmin&&chart.y1Axis.showMaxMin("true"===attrs.y1axisshowmaxmin),attrs.y1axishighlightzero&&chart.y1Axis.highlightZero("true"===attrs.y1axishighlightzero),attrs.y1axisrotatelabels&&chart.y1Axis.rotateLabels(+scope.y1axisrotatelabels),attrs.y1axisrotateylabel&&chart.y1Axis.rotateYLabel("true"===attrs.y1axisrotateylabel),attrs.y1axisstaggerlabels&&chart.y1Axis.staggerlabels("true"===attrs.y1axisstaggerlabels),attrs.y1axislabeldistance&&chart.y1Axis.axisLabelDistance(+attrs.y1axislabeldistance)}function configureY2axis(chart,scope,attrs){attrs.y2axisticks&&chart.y2Axis.scale().ticks(attrs.y2axisticks),attrs.y2axistickvalues&&chart.y2Axis.tickValues(scope.$eval(attrs.y2axistickvalues)),attrs.y2axisticksubdivide&&chart.y2Axis.tickSubdivide(scope.y2axisticksubdivide()),attrs.y2axisticksize&&chart.y2Axis.tickSize(scope.y2axisticksize()),attrs.y2axistickpadding&&chart.y2Axis.tickPadding(scope.y2axistickpadding()),attrs.y2axistickformat&&chart.y2Axis.tickFormat(scope.y2axistickformat()),attrs.y2axislabel&&chart.y2Axis.axisLabel(attrs.y2axislabel),attrs.y2axisscale&&chart.y2Axis.yScale(scope.y2axisscale()),attrs.y2axisdomain&&(Array.isArray(scope.$eval(attrs.y2axisdomain))?chart.y2Axis.domain(scope.$eval(attrs.y2axisdomain)):"function"==typeof scope.y2axisdomain()&&chart.y2Axis.domain(scope.y2axisdomain())),attrs.y2axisrange&&(Array.isArray(scope.$eval(attrs.y2axisrange))?chart.y2Axis.range(scope.$eval(attrs.y2axisrange)):"function"==typeof scope.y2axisrange()&&chart.y2Axis.range(scope.y2axisrange())),attrs.y2axisrangeband&&chart.y2Axis.rangeBand(scope.y2axisrangeband()),attrs.y2axisrangebands&&chart.y2Axis.rangeBands(scope.y2axisrangebands()),attrs.y2axisshowmaxmin&&chart.y2Axis.showMaxMin("true"===attrs.y2axisshowmaxmin),attrs.y2axishighlightzero&&chart.y2Axis.highlightZero("true"===attrs.y2axishighlightzero),attrs.y2axisrotatelabels&&chart.y2Axis.rotateLabels(+scope.y2axisrotatelabels),attrs.y2axisrotateylabel&&chart.y2Axis.rotateYLabel("true"===attrs.y2axisrotateylabel),attrs.y2axisstaggerlabels&&chart.y2Axis.staggerlabels("true"===attrs.y2axisstaggerlabels),attrs.y2axislabeldistance&&chart.y2Axis.axisLabelDistance(+attrs.y2axislabeldistance)}return{configureXaxis:configureXaxis,configureX2axis:configureX2axis,configureYaxis:configureYaxis,configureY1axis:configureY1axis,configureY2axis:configureY2axis,checkElementID:checkElementID,initializeMargin:initializeMargin,configureLegend:configureLegend,initializeLegendMargin:initializeLegendMargin,processEvents:processEvents}}),angular.module("themes.nvd3-directive",["themes.nvd3"]).directive("nvd3PieChart",["configurationUtils",function(configurationUtils){return{restrict:"EA",
scope:{data:"=",width:"@",height:"@",id:"@",showlabels:"@",showlegend:"@",donutLabelsOutside:"@",pieLabelsOutside:"@",labelType:"@",nodata:"@",margin:"&",x:"&",y:"&",color:"&",donut:"@",donutRatio:"@",labelthreshold:"@",description:"&",tooltips:"@",tooltipcontent:"&",valueFormat:"&",callback:"&",legendmargin:"&",legendwidth:"@",legendheight:"@",legendkey:"@",legendcolor:"&",legendalign:"@",legendrightalign:"@",legendupdatestate:"@",legendradiobuttonmode:"@",objectequality:"@",transitionduration:"@"},controller:["$scope","$element","$attrs",function($scope,$element,$attrs){$scope.d3Call=function(data,chart){configurationUtils.checkElementID($scope,$attrs,$element,chart,data)}}],link:function(scope,element,attrs){scope.$watch("data",function(data){if(data){if(scope.chart)return scope.d3Call(data,scope.chart);nv.addGraph({generate:function(){configurationUtils.initializeMargin(scope,attrs);var chart=nv.models.pieChart().x(void 0===attrs.x?function(d){return d[0]}:scope.x()).y(void 0===attrs.y?function(d){return d[1]}:scope.y()).width(scope.width).height(scope.height).margin(scope.margin).noData(void 0===attrs.nodata?"No Data Available.":scope.nodata).showLabels(void 0===attrs.showlabels?!1:"true"===attrs.showlabels).labelThreshold(void 0===attrs.labelthreshold?.02:attrs.labelthreshold).labelType(void 0===attrs.labeltype?"key":attrs.labeltype).labelsOutside(void 0===attrs.labelsOutside?!1:"true"===attrs.labelsOutside).valueFormat(void 0===attrs.valueformat?d3.format(",.2f"):attrs.valueformat).showLegend(void 0===attrs.showlegend?!1:"true"===attrs.showlegend).color(void 0===attrs.color?nv.utils.defaultColor():scope.color()).donut(void 0===attrs.donut?!1:"true"===attrs.donut).donutRatio(void 0===attrs.donutratio?.5:attrs.donutratio);return attrs.tooltipcontent&&chart.tooltipContent(scope.tooltipcontent()),scope.d3Call(data,chart),nv.utils.windowResize(chart.update),scope.chart=chart,chart},callback:void 0===attrs.callback?null:scope.callback()})}},void 0===attrs.objectequality?!1:"true"===attrs.objectequality)}}}]),angular.module("theme.vector_maps",[]).controller("VectorMapsController",["$scope",function($scope){$scope.jqvmapWorld={map:"world_en",backgroundColor:"transparent",color:"#f5f5f5",hoverOpacity:.7,selectedColor:"#1880c4",enableZoom:!0,showTooltip:!0,values:sample_data,scaleColors:["#90c2e3","#4697ce"],normalizeFunction:"polynomial"},$scope.jqvmapUSA={map:"usa_en",backgroundColor:"transparent",color:"#509BBD",hoverOpacity:.7,selectedColor:"#1278a6",enableZoom:!0,showTooltip:!0,values:sample_data,scaleColors:["#C8EEFF","#006491"],normalizeFunction:"polynomial"},$scope.jqvmapEurope={map:"europe_en",backgroundColor:"transparent",color:"#dddddd",hoverOpacity:.7,selectedColor:"#1dda1d",enableZoom:!0,showTooltip:!0,values:sample_data,scaleColors:["#b6ddb7","#51d951"],normalizeFunction:"polynomial"}}]).directive("jqvmap",["$timeout",function($timeout){return{restrict:"A",scope:{options:"="},link:function(scope,element,attr){$timeout(function(){element.vectorMap(scope.options),scope.$on("$destroy",function(){element.data().mapObject.applyTransform=function(){}})})}}}]),angular.module("theme.google_maps",[]).controller("GMapsController",["$scope",function($scope){$scope.basicMapOptions={lat:-12.043333,lng:-77.028333},$scope.routeMapInstance,$scope.routeMapOptions={lat:-12.043333,lng:-77.028333},$scope.startRoute=function($event){$event.preventDefault(),$scope.routeMapInstance.travelRoute({origin:[-12.044012922866312,-77.02470665341184],destination:[-12.090814532191756,-77.02271108990476],travelMode:"driving",step:function(e){$("#instructions").append("<li>"+e.instructions+"</li>"),$("#instructions li:eq("+e.step_number+")").delay(450*e.step_number).fadeIn(200,function(){$scope.routeMapInstance.setCenter(e.end_location.lat(),e.end_location.lng()),$scope.routeMapInstance.drawPolyline({path:e.path,strokeColor:"#131540",strokeOpacity:.6,strokeWeight:6})})}})},$scope.panoramicMapOptions={lat:-12.043333,lng:-77.028333};var infoWindow=new google.maps.InfoWindow({});$scope.fusionMapInstance,$scope.fusionMapOptions={zoom:11,lat:41.850033,lng:-87.6500523};var path=[[-12.044012922866312,-77.02470665341184],[-12.05449279282314,-77.03024273281858],[-12.055122327623378,-77.03039293652341],[-12.075917129727586,-77.02764635449216],[-12.07635776902266,-77.02792530422971],[-12.076819390363665,-77.02893381481931],[-12.088527520066453,-77.0241058385925],[-12.090814532191756,-77.02271108990476]];$scope.polylinesMapInstance,$scope.polylinesMapOptions={lat:-12.043333,lng:-77.028333,click:function(e){console.log(e)}},$scope.geoCodingMapInstance,$scope.geocodeAddress="Rio",$scope.submitGeocoding=function(address){GMaps.geocode({address:address,callback:function(results,status){if("OK"==status){var latlng=results[0].geometry.location;$scope.geoCodingMapInstance.setCenter(latlng.lat(),latlng.lng()),$scope.geoCodingMapInstance.addMarker({lat:latlng.lat(),lng:latlng.lng()})}}})},$scope.$on("GMaps:created",function(event,mapInstance){mapInstance.key&&($scope[mapInstance.key]=mapInstance.map),"fusionMapInstance"==mapInstance.key?$scope.fusionMapInstance.loadFromFusionTables({query:{select:"'Geocodable address'",from:"1mZ53Z70NsChnBMm-qEYmSDOvLXgrreLTkQUvvg"},suppressInfoWindows:!0,events:{click:function(point){infoWindow.setContent("You clicked here!"),infoWindow.setPosition(point.latLng),infoWindow.open(fusion.map)}}}):"polylinesMapInstance"==mapInstance.key?$scope.polylinesMapInstance.drawPolyline({path:path,strokeColor:"#131540",strokeOpacity:.6,strokeWeight:6}):"geoCodingMapInstance"==mapInstance.key})}]).service("GMaps",["$rootScope",function($rootScope){this["new"]=function(options,instance){var gmaps=new GMaps(options);$rootScope.$broadcast("GMaps:created",{key:instance,map:gmaps})},this.newPanorama=function(options,instance){var gmaps=GMaps.createPanorama(options);$rootScope.$broadcast("GMaps:created",{key:instance,map:gmaps})}}]).directive("gmap",["$timeout","GMaps",function($timeout,GMaps){return{restrict:"A",scope:{options:"=",instance:"@"},link:function(scope,element,attr){attr.id||(attr.id=Math.random().toString(36).substring(7),element.attr("id",attr.id)),scope.options.el="#"+attr.id,void 0!==attr.panorama?GMaps.newPanorama(scope.options,scope.instance):GMaps["new"](scope.options,scope.instance)}}}]),angular.module("theme.calendars",[]).controller("CalendarController",["$scope","$global",function($scope,$global){var date=new Date,d=date.getDate(),m=date.getMonth(),y=date.getFullYear();$scope.demoEvents=[{title:"All Day Event",start:new Date(y,m,8),backgroundColor:$global.getBrandColor("warning")},{title:"Long Event",start:new Date(y,m,d-5),end:new Date(y,m,d-2),backgroundColor:$global.getBrandColor("success")},{id:999,title:"Repeating Event",start:new Date(y,m,d-3,16,0),allDay:!1,backgroundColor:$global.getBrandColor("primary")},{id:999,title:"Repeating Event",start:new Date(y,m,d+4,16,0),allDay:!1,backgroundColor:$global.getBrandColor("danger")},{title:"Meeting",start:new Date(y,m,d,10,30),allDay:!1,backgroundColor:$global.getBrandColor("info")},{title:"Lunch",start:new Date(y,m,d,12,0),end:new Date(y,m,d,14,0),allDay:!1,backgroundColor:$global.getBrandColor("midnightblue")},{title:"Birthday Party",start:new Date(y,m,d+1,19,0),end:new Date(y,m,d+1,22,30),allDay:!1,backgroundColor:$global.getBrandColor("primary")},{title:"Click for Google",start:new Date(y,m,28),end:new Date(y,m,29),url:"http://google.com/",backgroundColor:$global.getBrandColor("warning")}],$scope.events=[{title:"Demo Event 1"},{title:"Demo Event 2"},{title:"Demo Event 2"}],$scope.addEvent=function(){$scope.events.push({title:$scope.newEvent}),$scope.newEvent=""}}]).directive("fullCalendar",function(){return{restrict:"A",scope:{options:"=fullCalendar"},link:function(scope,element,attr){var defaultOptions={header:{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay"},selectable:!0,selectHelper:!0,select:function(start,end,allDay){var title=prompt("Event Title:");title&&calendar.fullCalendar("renderEvent",{title:title,start:start,end:end,allDay:allDay},!0),calendar.fullCalendar("unselect")},editable:!0,events:[],buttonText:{prev:'<i class="fa fa-angle-left"></i>',next:'<i class="fa fa-angle-right"></i>',prevYear:'<i class="fa fa-angle-double-left"></i>',nextYear:'<i class="fa fa-angle-double-right"></i>',today:"Today",month:"Month",week:"Week",day:"Day"}};$.extend(!0,defaultOptions,scope.options),1==defaultOptions.droppable&&(defaultOptions.drop=function(date,allDay){var originalEventObject=$(this).data("eventObject"),copiedEventObject=$.extend({},originalEventObject);copiedEventObject.start=date,copiedEventObject.allDay=allDay,calendar.fullCalendar("renderEvent",copiedEventObject,!0),1==defaultOptions.removeDroppedEvent&&$(this).remove()});var calendar=$(element).fullCalendar(defaultOptions)}}}).directive("draggableEvent",function(){return{restrict:"A",scope:{eventDef:"=draggableEvent"},link:function(scope,element,attr){$(element).draggable({zIndex:999,revert:!0,revertDuration:0}),$(element).data("eventObject",scope.eventDef)}}}),angular.module("theme.gallery",[]).controller("GalleryController",["$scope","$modal","$timeout",function($scope,$modal,$t){$scope.galleryFilter="all",$scope.openImageModal=function($event){$event.preventDefault(),$event.stopPropagation();$modal.open({templateUrl:"imageModalContent.html",controller:["$scope","$modalInstance","src",function($scope,$modalInstance,src){$scope.src=src,$scope.cancel=function(){$modalInstance.dismiss("cancel")}}],size:"lg",resolve:{src:function(){return console.log($event.target.src.replace("thumb_","")),$event.target.src.replace("thmb_","")}}})}}]).directive("gallery",function(){return{restrict:"A",scope:{filterClass:"@filterClass",sortClass:"@sortClass"},link:function(scope,element,attr){element.shuffle({itemSelector:".item"}),$("."+scope.filterClass).click(function(e){e.preventDefault(),$("."+scope.filterClass).removeClass("active"),$(this).addClass("active");var groupName=$(this).attr("data-group");element.shuffle("shuffle",groupName)}),$("."+scope.sortClass).click(function(e){e.preventDefault();var opts={reverse:"desc"==$(this).data("order"),by:function(el){return el.data(el.data("data-sort"))}};$("."+scope.sortClass).removeClass("active"),$(this).addClass("active"),element.shuffle("sort",opts)})}}}),angular.module("theme.tasks",[]).controller("TasksController",["$scope",function($scope){$scope.newTaskTitle="",$scope.newTaskLabelText="",$scope.showTasksTab=!0,$scope.showCompletedTab=!1,$scope.tasks=[{title:"Write documentation",label:"Due tomorrow",color:"success"},{title:"Compile Code",label:"Today",color:"danger"},{title:"Upload Files to Server",label:"6 days",color:"primary"},{title:"Call client",label:"Tomorrow",color:"warning"},{title:"Buy Milk",label:"Today",color:"danger"},{title:"Set up meeting with client",label:"Any day",color:"inverse"},{title:"Pay office rent and bills",label:"5 days from now",color:"success"}],$scope.tasksComplete=[],$scope.selectedItem={},$scope.options={},$scope.remove=function(scope){scope.remove()},$scope.complete=function(scope,item){$scope.tasksComplete.push(item),scope.remove()},$scope.incomplete=function(item,index){$scope.tasks.push(item),$scope.tasksComplete.splice(index,1)},$scope.newItem=function(title,label,color){""!=this.newTaskTitle&&($scope.tasks.push({title:title,label:label,color:color}),this.newTaskTitle="",this.newTaskLabelText="",this.showForm=!1)},$scope.edit=function(item){item.editing=!0,item.titlePrev=item.title,item.labelPrev=item.label,item.colorPrev=item.color},$scope.cancelEdit=function($event,item){27==$event.keyCode&&(item.title=item.titlePrev,item.label=item.labelPrev,item.color=item.colorPrev,item.editing=!1)},$scope.cancelAdd=function($event){27==$event.keyCode&&(this.newTaskTitle="",this.newTaskLabelText="",this.showForm=!1)},$scope.doneEditing=function(item){item.editing=!1}}]),angular.module("theme.tables-ng-grid",[]).controller("TablesAdvancedController",["$scope","$filter","$http",function($scope,$filter,$http){$scope.filterOptions={filterText:"",useExternalFilter:!0},$scope.totalServerItems=0,$scope.pagingOptions={pageSizes:[25,50,100],pageSize:25,currentPage:1},$scope.setPagingData=function(data,page,pageSize){var pagedData=data.slice((page-1)*pageSize,page*pageSize);$scope.myData=pagedData,$scope.totalServerItems=data.length,$scope.$$phase||$scope.$apply()},$scope.getPagedDataAsync=function(pageSize,page,searchText){setTimeout(function(){var data;if(searchText){var ft=searchText.toLowerCase();$http.get("assets/demo/ng-data.json").success(function(largeLoad){data=largeLoad.filter(function(item){return-1!=JSON.stringify(item).toLowerCase().indexOf(ft)}),$scope.setPagingData(data,page,pageSize)})}else $http.get("assets/demo/ng-data.json").success(function(largeLoad){$scope.setPagingData(largeLoad,page,pageSize)})},100)},$scope.getPagedDataAsync($scope.pagingOptions.pageSize,$scope.pagingOptions.currentPage),$scope.$watch("pagingOptions",function(newVal,oldVal){newVal!==oldVal&&newVal.currentPage!==oldVal.currentPage&&$scope.getPagedDataAsync($scope.pagingOptions.pageSize,$scope.pagingOptions.currentPage,$scope.filterOptions.filterText)},!0),$scope.$watch("filterOptions",function(newVal,oldVal){newVal!==oldVal&&$scope.getPagedDataAsync($scope.pagingOptions.pageSize,$scope.pagingOptions.currentPage,$scope.filterOptions.filterText)},!0),$scope.gridOptions={data:"myData",enablePaging:!0,showFooter:!0,totalServerItems:"totalServerItems",pagingOptions:$scope.pagingOptions,filterOptions:$scope.filterOptions}}]),angular.module("theme.tables-editable",[]).controller("TablesEditableController",["$scope","$filter",function($scope,$filter){$scope.myData=[{name:"Moroni",age:50},{name:"Tiancum",age:43},{name:"Jacob",age:27},{name:"Nephi",age:29},{name:"Enos",age:34}],$scope.gridOptions={data:"myData",enableCellSelection:!0,enableRowSelection:!1,enableCellEditOnFocus:!0,columnDefs:[{field:"name",displayName:"Name",enableCellEdit:!0},{field:"age",displayName:"Age",enableCellEdit:!0}]},$scope.users=[{id:1,name:"awesome user1",status:2,group:4,groupName:"admin"},{id:2,name:"awesome user2",status:void 0,group:3,groupName:"vip"},{id:3,name:"awesome user3",status:2,group:null}],$scope.statuses=[{value:1,text:"status1"},{value:2,text:"status2"},{value:3,text:"status3"},{value:4,text:"status4"}],$scope.groups=[{id:1,text:"MVP"},{id:2,text:"VIP"},{id:3,text:"ADMINS"},{id:4,text:"USER"}],$scope.showGroup=function(user){if(user.group&&$scope.groups.length){var selected=$filter("filter")($scope.groups,{id:user.group});return selected.length?selected[0].text:"Not set"}return user.groupName||"Not set"},$scope.showStatus=function(user){var selected=[];return user.status&&(selected=$filter("filter")($scope.statuses,{value:user.status})),selected.length?selected[0].text:"Not set"},$scope.saveUser=function(data,id){angular.extend(data,{id:id})},$scope.removeUser=function(index){$scope.users.splice(index,1)},$scope.addUser=function(){$scope.inserted={id:$scope.users.length+1,name:"",status:null,group:null},$scope.users.push($scope.inserted)}}]),angular.module("theme.layout-horizontal",[]).controller("HorizontalPageController",["$scope","$global",function($scope,$global){var isHorizontal=$global.get("layoutHorizontal");$global.set("layoutHorizontal",!0),$scope.$on("$destroy",function(){isHorizontal||$global.set("layoutHorizontal",!1)})}]).controller("HorizontalPage2Controller",["$scope","$global",function($scope,$global){var isHorizontal=$global.get("layoutHorizontal"),isLargeIcons=$global.get("layoutHorizontalLargeIcons");$global.set("layoutHorizontal",!0),$global.set("layoutHorizontalLargeIcons",!0),$scope.$on("$destroy",function(){isHorizontal||$global.set("layoutHorizontal",!1),isLargeIcons||$global.set("layoutHorizontalLargeIcons",!1)})}]),angular.module("theme.layout-boxed",[]).controller("BoxedPageController",["$scope","$global",function($scope,$global){$global.set("layoutBoxed",!0),$scope.$on("$destroy",function(){$global.set("layoutBoxed",!1)})}]),angular.module("theme.pages-controllers",["angularPassportService"]).constant("Constants",{ServiceType:["PCP","API","APP","ETC"]}).factory("Util",function(){function removeItem(arr,item){var index=arr.indexOf(item);-1!=index&&arr.splice(index,1)}function matchById(ids,arr){return _.map(ids,function(id){return _.find(arr,function(instance){return instance._id?instance._id===id:instance===id})})}function uniq(left,right){return _.uniq(left.concat(right),function(inst){return inst._id})}function remove(left,right){return _.reject(left,function(ins){return _.some(right,function(exc){return exc._id===ins._id})})}function getIds(arr){return _.map(arr,function(inst){return inst._id})}return{matchById:matchById,uniq:uniq,remove:remove,getIds:getIds,removeItem:removeItem}}).controller("SignupPageController",["$location","$scope","$global","$rootScope","Auth",function($location,$scope,$global,$rootScope,Auth){$scope.user={},$global.set("fullscreen",!0),$scope.$on("$destroy",function(){$global.set("fullscreen",!1)}),$scope.logIn=function(form){Auth.login({email:$scope.user.email,password:$scope.user.password},function(err){$scope.errors={},err?angular.forEach(err.errors,function(error,field){form[field].$setValidity("mongoose",!1),$scope.errors[field]=error.type}):$location.path("/")})},$scope.signUp=function(form){Auth.createUser($scope.user).then(function(user){$rootScope.currentUser=user.data,$location.path("/")})},$scope.adminSignUp=function(form){Auth.createUser($scope.user).then(function(user){$rootScope.currentUser=user.data,$location.path("/")})},$scope.signUpBtnClicked=function(){$location.path("/extras-signupform")}}]).controller("RegistrationPageController",["$scope","$timeout",function($scope,$timeout){$scope.checking=!1,$scope.checked=!1,$scope.checkAvailability=function(){0!=$scope.reg_form.username.$dirty&&($scope.checking=!0,$timeout(function(){$scope.checking=!1,$scope.checked=!0},500))}}]).controller("ChatRoomController",["$scope","$timeout",function($scope,$t){var eliza=new ElizaBot,avatars=["potter.png","tennant.png","johansson.png","jackson.png","jobs.png"];$scope.messages=[],$scope.userText="",$scope.elizaTyping=!1,$scope.elizaAvatar="johansson.png",$scope.sendMessage=function(msg){var im={"class":"me",avatar:"jackson.png",text:msg};this.messages.push(im),this.userText="",$t(function(){$scope.elizaAvatar=_.shuffle(avatars).shift(),$scope.elizaTyping=!0},500),$t(function(){var reply=eliza.transform(msg),im={"class":"chat-success",avatar:$scope.elizaAvatar,text:reply};$scope.elizaTyping=!1,$scope.messages.push(im)},1200)}}]).directive("scrollToBottom",function(){return{restrict:"A",scope:{model:"=scrollToBottom"},link:function(scope,element,attr){scope.$watch("model",function(n,o){n!=o&&(element[0].scrollTop=element[0].scrollHeight)})}}}).factory("applyIcon",function(){return function(obj){var cls;switch(obj.disabled){case!0:cls=" glyphicon-folder-close";break;default:cls=" glyphicon-folder-open"}return cls}}),angular.module("theme.templates",[]).run(["$templateCache",function($templateCache){$templateCache.put("templates/bs-modal.html",'<div class="modal-header">\n    <h3 class="modal-title">I\'m a modal!</h3>\n</div>\n<div class="modal-body">\n    <ul>\n        <li ng-repeat="item in items">\n            <a ng-click="selected.item = item">{{ item }}</a>\n        </li>\n    </ul>\n    Selected: <b>{{ selected.item }}</b>\n</div>\n<div class="modal-footer">\n    <button class="btn btn-primary" ng-click="ok()">OK</button>\n    <button class="btn btn-warning" ng-click="cancel()">Cancel</button>\n</div>\n'),$templateCache.put("templates/contextual-progressbar.html",'<div class="contextual-progress">\n	<div class="clearfix">\n		<div class="progress-title">{{heading}}</div>\n		<div class="progress-percentage">{{percent | number:0}}%</div>\n	</div>\n	<div class="progress">\n		<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n	</div>\n</div>\n'),$templateCache.put("templates/nav_renderer.html",'<a ng-click="select(item)" ng-href="{{item.url}}">\n	<i ng-if="item.iconClasses" class="{{item.iconClasses}}"></i><span>{{item.label}}</span>\n	<span ng-bind-html="item.html"></span>\n</a>\n<ul ng-if="item.children.length" data-slide-out-nav="item.open">\n    <li ng-repeat="item in item.children"\n	    ng-class="{ hasChild: (item.children!==undefined),\n                      active: item.selected,\n                        open: (item.children!==undefined) && item.open }"\n    	ng-include="\'templates/nav_renderer.html\'"\n    ></li>\n</ul>\n'),$templateCache.put("templates/nav_renderer_horizontal.html",'<a ng-click="select(item)" ng-href="{{item.url}}">\n  <i ng-if="item.iconClasses" class="{{item.iconClasses}}"></i><span>{{item.label}}</span>\n  <span ng-bind-html="item.html"></span>\n</a>\n<ul ng-if="item.children.length">\n    <li ng-repeat="item in item.children"\n      ng-class="{ hasChild: (item.children!==undefined),\n                      active: item.selected,\n                        open: (item.children!==undefined) && item.open }"\n      ng-include="\'templates/nav_renderer_horizontal.html\'"\n    ></li>\n</ul>\n'),$templateCache.put("templates/panel-tabs-without-heading.html",'<div class="panel {{panelClass}}">\n  <div class="panel-heading">\n        <h4>\n            <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n        </h4>\n  </div>\n  <div class="panel-body">\n    <div class="tab-content">\n        <div class="tab-pane"\n            ng-repeat="tab in tabs"\n            ng-class="{active: tab.active}"\n            tab-content-transclude="tab">\n        </div>\n    </div>\n  </div>\n</div>\n'),$templateCache.put("templates/panel-tabs.html",'<div class="panel {{panelClass}}">\n  <div class="panel-heading">\n        <h4><i ng-if="panelIcon" class="{{panelIcon}}"></i>{{(panelIcon? " ":"")+heading}}</h4>\n        <div class="options">\n            <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n        </div>\n  </div>\n  <div class="panel-body">\n    <div class="tab-content">\n        <div class="tab-pane"\n            ng-repeat="tab in tabs"\n            ng-class="{active: tab.active}"\n            tab-content-transclude="tab">\n        </div>\n    </div>\n  </div>\n</div>\n'),$templateCache.put("templates/panel.html",'<div class="panel {{panelClass}}">\n  <div class="panel-heading">\n        <h4><i ng-if="panelIcon" class="{{panelIcon}}"></i>{{(panelIcon? " ":"")+heading}}</h4>\n        <div class="options">\n        </div>\n  </div>\n  <div class="panel-body" ng-transclude>\n  </div>\n</div>\n'),$templateCache.put("templates/themed-tabs-bottom.html",'<div class="tab-container tab-{{theme || \'primary\'}} tab-{{position || \'normal\'}}">\n  <div class="tab-content">\n    <div class="tab-pane"\n        ng-repeat="tab in tabs"\n        ng-class="{active: tab.active}"\n        tab-content-transclude="tab">\n    </div>\n  </div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n</div>\n'),$templateCache.put("templates/themed-tabs.html",'<div class="tab-container tab-{{theme || \'primary\'}} tab-{{position || \'normal\'}}">\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n        ng-repeat="tab in tabs"\n        ng-class="{active: tab.active}"\n        tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n'),$templateCache.put("templates/tile-generic.html",'<div class="info-tiles tiles-{{type}}">\n	<div class="tiles-heading">\n		{{heading}}\n	</div>\n	<div class="tiles-body" ng-transclude>\n	</div>\n</div>\n'),$templateCache.put("templates/tile-large.html",'<a class="info-tiles tiles-{{item.color}}" ng-href="{{item.href}}">\n    <div class="tiles-heading">\n        <div class="pull-left">{{item.title}}</div>\n        <div class="pull-right">{{item.titleBarInfo}}</div>\n    </div>\n    <div class="tiles-body">\n        <div class="pull-left"><i class="{{item.classes}}"></i></div>\n        <div class="pull-right" ng-show="item.text">{{item.text}}</div>\n        <div class="pull-right" ng-show="!item.text" ng-transclude></div>\n    </div>\n</a>\n'),$templateCache.put("templates/tile-mini.html",'<a class="shortcut-tiles tiles-{{item.color}}" ng-href="{{item.href}}">\n	<div class="tiles-body">\n		<div class="pull-left"><i class="{{item.classes}}"></i></div>\n		<div class="pull-right"><span class="badge">{{item.titleBarInfo}}</span></div>\n	</div>\n	<div class="tiles-footer">\n		{{item.text}}\n	</div>\n</a>\n')}]),angular.module("theme.template-overrides",[]).config(["$provide",function($provide){$provide.decorator("tabsetDirective",function($delegate){return $delegate[0].templateUrl=function(element,attr){return attr.tabPosition||attr.tabTheme?!attr.tabPosition||"'bottom'"!=attr.tabPosition&&"bottom"!=attr.tabPosition?"templates/themed-tabs.html":"templates/themed-tabs-bottom.html":attr.panelTabs&&void 0!==attr.heading?"templates/panel-tabs.html":attr.panelTabs&&void 0==attr.heading?"templates/panel-tabs-without-heading.html":"templates/themed-tabs.html"},angular.extend($delegate[0].scope,{heading:"@",panelClass:"@",panelIcon:"@",theme:"@tabTheme",position:"@tabPosition"}),$delegate}),$provide.decorator("progressbarDirective",function($delegate){return $delegate[0].templateUrl=function(element,attr){return attr.contextual&&"true"==attr.contextual?"templates/contextual-progressbar.html":"template/progressbar/progressbar.html"},angular.extend($delegate[0].scope,{heading:"@"}),$delegate})}]).run(["$templateCache",function($templateCache){$templateCache.put("footerTemplate.html",'<div ng-show="showFooter" class="ng-grid-footer" ng-style="footerStyle()">\r\n    <div class="col-md-4" >\r\n        <div class="ngFooterTotalItems" ng-class="{\'ngNoMultiSelect\': !multiSelect}" >\r\n            <span class="ngLabel">{{i18n.ngTotalItemsLabel}} {{maxRows()}}</span><span ng-show="filterText.length > 0" class="ngLabel">({{i18n.ngShowingItemsLabel}} {{totalFilteredItemsLength()}})</span>\r\n        </div>\r\n        <div class="ngFooterSelectedItems" ng-show="multiSelect">\r\n            <span class="ngLabel">{{i18n.ngSelectedItemsLabel}} {{selectedItems.length}}</span>\r\n        </div>\r\n    </div>\r\n    <div class="col-md-4" ng-show="enablePaging" ng-class="{\'ngNoMultiSelect\': !multiSelect}">\r\n            <label class="control-label ng-grid-pages center-block">{{i18n.ngPageSizeLabel}}\r\n               <select class="form-control input-sm" ng-model="pagingOptions.pageSize" >\r\n                      <option ng-repeat="size in pagingOptions.pageSizes">{{size}}</option>\r\n                </select>\r\n        </label>\r\n</div>\r\n     <div class="col-md-4">\r\n        <div class="pull-right ng-grid-pagination">\r\n            <button type="button" class="btn btn-default btn-sm" ng-click="pageToFirst()" ng-disabled="cantPageBackward()" title="{{i18n.ngPagerFirstTitle}}"><i class="fa fa-angle-double-left"></i></button>\r\n            <button type="button" class="btn btn-default btn-sm" ng-click="pageBackward()" ng-disabled="cantPageBackward()" title="{{i18n.ngPagerPrevTitle}}"><i class="fa fa-angle-left"></i></button>\r\n            <label class="control-label">\r\n                   <input class="form-control input-sm" min="1" max="{{currentMaxPages}}" type="number" style="width:50px; height: 24px; margin-top: 1px; padding: 0 4px;" ng-model="pagingOptions.currentPage"/>\r\n            </label>\r\n            <span class="ngGridMaxPagesNumber" ng-show="maxPages() > 0">/ {{maxPages()}}</span>\r\n            <button type="button" class="btn btn-default btn-sm" ng-click="pageForward()" ng-disabled="cantPageForward()" title="{{i18n.ngPagerNextTitle}}"><i class="fa fa-angle-right"></i></button>\r\n            <button type="button" class="btn btn-default btn-sm" ng-click="pageToLast()" ng-disabled="cantPageToLast()" title="{{i18n.ngPagerLastTitle}}"><i class="fa fa-angle-double-right"></i></button>\r\n        </div>\r\n     </div>\r\n</div>\r\n'),$templateCache.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="fa" ng-class="$index < value && (r.stateOn || \'fa-star\') || (r.stateOff || \'fa-star-o\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("theme.navigation-controller",[]).controller("NavigationController",["$scope","$location","$timeout","$global","$rootScope",function($scope,$location,$timeout,$global,$rootScope){$scope.menu=[{label:"Dashboard",iconClasses:"fa fa-home",url:"#/"},{label:"行程",iconClasses:"fa fa-home",url:"#/itinerary"},{label:"任务",iconClasses:"fa fa-home",url:"#/itinerary"},{label:"报价",iconClasses:"fa fa-home",url:"#/itinerary"}],$scope.checkAccess=function(item){return"Administrator"===item.restricted?$rootScope.currentUser&&"Administrator"===$rootScope.currentUser.type:!0};var setParent=function(children,parent){angular.forEach(children,function(child){child.parent=parent,void 0!==child.children&&setParent(child.children,child)})};$scope.findItemByUrl=function(children,url){for(var i=0,length=children.length;length>i;i++){if(children[i].url&&children[i].url.replace("#","")==url)return children[i];if(void 0!==children[i].children){var item=$scope.findItemByUrl(children[i].children,url);if(item)return item}}},setParent($scope.menu,null),$scope.openItems=[],$scope.selectedItems=[],$scope.selectedFromNavMenu=!1,$scope.select=function(item){if(item.open)return void(item.open=!1);for(var i=$scope.openItems.length-1;i>=0;i--)$scope.openItems[i].open=!1;$scope.openItems=[];for(var parentRef=item;null!==parentRef;)parentRef.open=!0,$scope.openItems.push(parentRef),parentRef=parentRef.parent;if(!item.children||item.children&&item.children.length<1){$scope.selectedFromNavMenu=!0;for(var j=$scope.selectedItems.length-1;j>=0;j--)$scope.selectedItems[j].selected=!1;$scope.selectedItems=[];for(var parentRef=item;null!==parentRef;)parentRef.selected=!0,$scope.selectedItems.push(parentRef),parentRef=parentRef.parent}},$scope.$watch(function(){return $location.path()},function(newVal,oldVal){if(0==$scope.selectedFromNavMenu){var item=$scope.findItemByUrl($scope.menu,newVal);item&&$timeout(function(){$scope.select(item)})}$scope.selectedFromNavMenu=!1}),$scope.showSearchBar=function($e){$e.stopPropagation(),$global.set("showSearchCollapsed",!0)},$scope.$on("globalStyles:changed:showSearchCollapsed",function(event,newVal){$scope.style_showSearchCollapsed=newVal}),$scope.goToSearch=function(){$location.path("/extras-search")}}]),angular.module("theme.messages-controller",[]).controller("MessagesController",["$scope","$filter",function($scope,$filter){$scope.messages=[{name:"Polly Paton",message:"Uploaded all the files to server",time:"3m","class":"notification-danger",thumb:"assets/demo/avatar/paton.png",read:!1},{name:"Simon Corbett",message:"I am signing off for today",time:"17m","class":"notification-danger",thumb:"assets/demo/avatar/corbett.png",read:!1},{name:"Matt Tennant",message:"Everything is working just fine here",time:"2h","class":"notification-danger",thumb:"assets/demo/avatar/tennant.png",read:!0},{name:"Alan Doyle",message:"Please mail me the files by tonight",time:"5d","class":"notification-danger",thumb:"assets/demo/avatar/doyle.png",read:!1},{
name:"Polly Paton",message:"Uploaded all the files to server",time:"3m","class":"notification-danger",thumb:"assets/demo/avatar/paton.png",read:!1},{name:"Simon Corbett",message:"I am signing off for today",time:"17m","class":"notification-danger",thumb:"assets/demo/avatar/corbett.png",read:!1},{name:"Matt Tennant",message:"Everything is working just fine here",time:"2h","class":"notification-danger",thumb:"assets/demo/avatar/tennant.png",read:!0},{name:"Alan Doyle",message:"Please mail me the files by tonight",time:"5d","class":"notification-danger",thumb:"assets/demo/avatar/doyle.png",read:!1}],$scope.setRead=function(item,$event){$event.preventDefault(),$event.stopPropagation(),item.read=!0},$scope.setUnread=function(item,$event){$event.preventDefault(),$event.stopPropagation(),item.read=!1},$scope.setReadAll=function($event){$event.preventDefault(),$event.stopPropagation(),angular.forEach($scope.messages,function(item){item.read=!0})},$scope.unseenCount=$filter("filter")($scope.messages,{read:!1}).length,$scope.$watch("messages",function(messages){$scope.unseenCount=$filter("filter")(messages,{read:!1}).length},!0)}]),angular.module("theme.dashboard",[]).controller("DashboardController",["$scope",function($scope){$scope.percentages=[53,65,23,99],$scope.randomizePie=function(){$scope.percentages=_.shuffle($scope.percentages)};$scope.plotStatsData=[{data:[[1,1100],[2,1400],[3,1200],[4,800],[5,600],[6,800],[7,700],[8,900],[9,1700],[10,1200]],label:"View Count"}],$scope.plotStatsOptions={series:{lines:{show:!0,lineWidth:1.5,fill:.1},points:{show:!0},shadowSize:0},grid:{labelMargin:10,hoverable:!0,clickable:!0,borderWidth:0},tooltip:!0,tooltipOpts:{defaultTheme:!1,content:"View Count: %y"},colors:["#b3bcc7"],xaxis:{tickColor:"transparent",tickDecimals:0,autoscaleMargin:0,font:{color:"rgba(0,0,0,0.4)",size:11}},yaxis:{ticks:4,tickDecimals:0,tickColor:"rgba(0,0,0,0.04)",font:{color:"rgba(0,0,0,0.4)",size:11},tickFormatter:function(val,axis){return val>999?val/1e3+"K":val}},legend:{labelBoxBorderColor:"transparent"}};$scope.plotRevenueData=[{data:[[1,1100],[2,1400],[3,1200],[4,800],[5,600],[6,800],[7,700],[8,900],[9,700],[10,300]],label:"Revenues"}],$scope.plotRevenueOptions={series:{bars:{show:!0,fill:1,lineWidth:0,barWidth:.6,align:"center"},points:{show:!1},shadowSize:0},grid:{labelMargin:10,hoverable:!0,clickable:!0,borderWidth:0},tooltip:!0,tooltipOpts:{defaultTheme:!1,content:"Revenue: %y"},colors:["#b3bcc7"],xaxis:{tickColor:"transparent",tickDecimals:0,autoscaleMargin:0,font:{color:"rgba(0,0,0,0.4)",size:11}},yaxis:{ticks:4,tickDecimals:0,tickColor:"rgba(0,0,0,0.04)",font:{color:"rgba(0,0,0,0.4)",size:11},tickFormatter:function(val,axis){return val>999?"$"+val/1e3+"K":"$"+val}},legend:{labelBoxBorderColor:"transparent"}},$scope.currentPage=1,$scope.itemsPerPage=7,$scope.accountsInRange=function(){return this.userAccounts.slice(7*this.currentPage,7*this.currentPage+7)},$scope.uaHandle=function($index){this.userAccounts.splice($index,1)},$scope.uaHandleSelected=function(){this.userAccounts=_.filter(this.userAccounts,function(item){return 0==item.rem||void 0==item.rem})};var avatars=["potter.png","tennant.png","johansson.png","jackson.png","jobs.png"];$scope.userAccounts=[{picture:_.shuffle(avatars).shift(),name:"Foreman Bullock",email:"foremanbullock@geemail.com"},{picture:_.shuffle(avatars).shift(),name:"Alberta Ochoa",email:"albertaochoa@geemail.com"},{picture:_.shuffle(avatars).shift(),name:"Terry Hahn",email:"terryhahn@geemail.com"},{picture:_.shuffle(avatars).shift(),name:"Donovan Doyle",email:"donovandoyle@geemail.com"},{picture:_.shuffle(avatars).shift(),name:"Stacie Blankenship",email:"stacieblankenship@geemail.com"},{picture:_.shuffle(avatars).shift(),name:"Julie Nunez",email:"julienunez@geemail.com"},{picture:_.shuffle(avatars).shift(),name:"Lacey Farrell",email:"laceyfarrell@geemail.com"},{picture:_.shuffle(avatars).shift(),name:"Stacy Cooke",email:"stacycooke@geemail.com"},{picture:_.shuffle(avatars).shift(),name:"Teri Frost",email:"terifrost@geemail.com"},{picture:_.shuffle(avatars).shift(),name:"Dionne Payne",email:"dionnepayne@geemail.com"},{picture:_.shuffle(avatars).shift(),name:"Kaufman Garrison",email:"kaufmangarrison@geemail.com"},{picture:_.shuffle(avatars).shift(),name:"Curry Avery",email:"curryavery@geemail.com"},{picture:_.shuffle(avatars).shift(),name:"Carr Sharp",email:"carrsharp@geemail.com"},{picture:_.shuffle(avatars).shift(),name:"Cooper Scott",email:"cooperscott@geemail.com"},{picture:_.shuffle(avatars).shift(),name:"Juana Spencer",email:"juanaspencer@geemail.com"},{picture:_.shuffle(avatars).shift(),name:"Madelyn Marks",email:"madelynmarks@geemail.com"},{picture:_.shuffle(avatars).shift(),name:"Bridget Ray",email:"bridgetray@geemail.com"},{picture:_.shuffle(avatars).shift(),name:"Santos Christensen",email:"santoschristensen@geemail.com"},{picture:_.shuffle(avatars).shift(),name:"Geneva Rivers",email:"genevarivers@geemail.com"},{picture:_.shuffle(avatars).shift(),name:"Carmella Bond",email:"carmellabond@geemail.com"},{picture:_.shuffle(avatars).shift(),name:"Duke Munoz",email:"dukemunoz@geemail.com"},{picture:_.shuffle(avatars).shift(),name:"Ramos Rasmussen",email:"ramosrasmussen@geemail.com"},{picture:_.shuffle(avatars).shift(),name:"Maricela Sweeney",email:"maricelasweeney@geemail.com"},{picture:_.shuffle(avatars).shift(),name:"Carmen Riley",email:"carmenriley@geemail.com"},{picture:_.shuffle(avatars).shift(),name:"Whitfield Hartman",email:"whitfieldhartman@geemail.com"},{picture:_.shuffle(avatars).shift(),name:"Jasmine Keith",email:"jasminekeith@geemail.com"},{picture:_.shuffle(avatars).shift(),name:"Baker Juarez",email:"bakerjuarez@geemail.com"}]}]),angular.module("theme.form-components",[]).controller("FormComponentsController",["$scope","$http",function($scope,$http){$scope.switchStatus=1,$scope.switchStatus2=1,$scope.switchStatus3=1,$scope.switchStatus4=1,$scope.switchStatus5=1,$scope.switchStatus6=1,$scope.getLocation=function(val){return $http.get("http://maps.googleapis.com/maps/api/geocode/json",{params:{address:val,sensor:!1}}).then(function(res){var addresses=[];return angular.forEach(res.data.results,function(item){addresses.push(item.formatted_address)}),addresses})},$scope.colorPicked="#fa4d4d",$scope.select2RemoteOptions={placeholder:"Search for a movie",minimumInputLength:3,width:"resolve",ajax:{url:"http://api.rottentomatoes.com/api/public/v1.0/movies.json",dataType:"jsonp",quietMillis:100,data:function(term,page){return{q:term,page_limit:10,page:page,apikey:"8vzys3eka2s9hpvkh7wwzp7e"}},results:function(data,page){var more=10*page<data.total;return{results:data.movies,more:more}}},formatResult:function(movie){var markup="<table class='movie-result'><tr>";return void 0!==movie.posters&&void 0!==movie.posters.thumbnail&&(markup+="<td class='movie-image'><img src='"+movie.posters.thumbnail+"'/></td>"),markup+="<td class='movie-info'><div class='movie-title'>"+movie.title+"</div>",void 0!==movie.critics_consensus?markup+="<div class='movie-synopsis'>"+movie.critics_consensus+"</div>":void 0!==movie.synopsis&&(markup+="<div class='movie-synopsis'>"+movie.synopsis+"</div>"),markup+="</td></tr></table>"},formatSelection:function(movie){return movie.title},dropdownCssClass:"bigdrop",escapeMarkup:function(m){return m}},$scope.tagList=["tag1","tag2"],$scope.select2TaggingOptions={multiple:!0,simple_tags:!0,tags:["tag1","tag2","tag3","tag4"]},$scope.multiSelect1=[],$scope.multiSelect2=[]}]).controller("DatepickerDemoController",["$scope",function($scope){$scope.today=function(){$scope.dt=new Date},$scope.today(),$scope.clear=function(){$scope.dt=null},$scope.disabled=function(date,mode){return"day"===mode&&(0===date.getDay()||6===date.getDay())},$scope.toggleMin=function(){$scope.minDate=$scope.minDate?null:new Date},$scope.toggleMin(),$scope.open=function($event){$event.preventDefault(),$event.stopPropagation(),$scope.opened=!0},$scope.dateOptions={formatYear:"yy",startingDay:1},$scope.initDate=new Date("2016-15-20"),$scope.formats=["dd-MMMM-yyyy","yyyy/MM/dd","dd.MM.yyyy","shortDate"],$scope.format=$scope.formats[0]}]).controller("TimepickerDemoCtrl",["$scope",function($scope){$scope.mytime=new Date,$scope.hstep=1,$scope.mstep=15,$scope.options={hstep:[1,2,3],mstep:[1,5,10,15,25,30]},$scope.ismeridian=!0,$scope.toggleMode=function(){$scope.ismeridian=!$scope.ismeridian},$scope.update=function(){var d=new Date;d.setHours(14),d.setMinutes(0),$scope.mytime=d},$scope.changed=function(){console.log("Time changed to: "+$scope.mytime)},$scope.clear=function(){$scope.mytime=null}}]).controller("DateRangePickerDemo",["$scope",function($scope){$scope.drp_start=moment().subtract("days",1).format("MMMM D, YYYY"),$scope.drp_end=moment().add("days",31).format("MMMM D, YYYY"),$scope.drp_options={ranges:{Today:[moment(),moment()],Yesterday:[moment().subtract("days",1),moment().subtract("days",1)],"Last 7 Days":[moment().subtract("days",6),moment()],"Last 30 Days":[moment().subtract("days",29),moment()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract("month",1).startOf("month"),moment().subtract("month",1).endOf("month")]},opens:"left",startDate:moment().subtract("days",29),endDate:moment()}}]),angular.module("theme.charts-flot",[]).controller("FlotChartsController",["$scope","$timeout",function($scope,$timeout){function getRandomData(){for(dxta.length>0&&(dxta=dxta.slice(1));dxta.length<totalPoints;){var prev=dxta.length>0?dxta[dxta.length-1]:50,y=prev+10*Math.random()-5;0>y?y=0:y>100&&(y=100),dxta.push(y)}for(var res=[],i=0;i<dxta.length;++i)res.push([i,dxta[i]]);return res}for(var sin=[],cos=[],i=0;14>i;i+=.5)sin.push([i,Math.sin(i)/i]),cos.push([i,Math.cos(i)]);$scope.sinusoidalData=[{data:sin,label:"sin(x)/x"},{data:cos,label:"cos(x)"}],$scope.sinusoidalOptions={series:{shadowSize:0,lines:{show:!0},points:{show:!0}},grid:{hoverable:!0,clickable:!0},yaxis:{min:-1.2,max:1.2},colors:["#539F2E","#3C67A5"],tooltip:!0,tooltipOpts:{defaultTheme:!0}},$scope.sinusoidalOnClick=function(event,position,item){},$scope.sinusoidalOnHover=function(event,position,item){};for(var d1=[],i=0;14>i;i+=.5)d1.push([i,Math.sin(i)]);for(var d2=[[0,3],[4,8],[8,5],[9,13]],d3=[],i=0;14>i;i+=.5)d3.push([i,Math.cos(i)]);for(var d4=[],i=0;14>i;i+=.1)d4.push([i,Math.sqrt(10*i)]);for(var d5=[],i=0;14>i;i+=.5)d5.push([i,Math.sqrt(i)]);for(var d6=[],i=0;14>i;i+=.5+Math.random())d6.push([i,Math.sqrt(2*i+Math.sin(i)+5)]);$scope.multigraphData=[{data:d1,lines:{show:!0,fill:!0},shadowSize:0},{data:d2,bars:{show:!0},shadowSize:0},{data:d3,points:{show:!0},shadowSize:0},{data:d4,lines:{show:!0},shadowSize:0},{data:d5,lines:{show:!0},points:{show:!0},shadowSize:0},{data:d6,lines:{show:!0,steps:!0},shadowSize:0}],$scope.multigraphOptions={};var dxta=[],totalPoints=300,updateInterval=150;$scope.realtimeData=[getRandomData()],$scope.realtimeOptions={series:{shadowSize:0,lines:{fill:.1,lineWidth:1.5}},grid:{borderWidth:0},yaxis:{tickColor:"rgba(0,0,0,0.04)",ticks:2,min:0,max:100,font:{color:"rgba(0,0,0,0.4)",size:11}},xaxis:{tickColor:"transparent",show:!1},colors:["#7dcc93"]};var promise,updateRealtimeData=function(){$scope.realtimeData=[getRandomData()],$timeout.cancel(promise),promise=$timeout(updateRealtimeData,updateInterval)};updateRealtimeData(),d1=[];for(var i=0;10>=i;i+=1)d1.push([i,parseInt(30*Math.random())]);d2=[];for(var i=0;10>=i;i+=1)d2.push([i,parseInt(30*Math.random())]);d3=[];for(var i=0;10>=i;i+=1)d3.push([i,parseInt(30*Math.random())]);$scope.stackedIsTrue=!0,$scope.stackedBars=!0,$scope.stackedLines=!0,$scope.stackedSteps=!0;var getStackedOptions=function(){return{series:{stack:$scope.stackedIsTrue,lines:{show:$scope.stackedLines,fill:!0,steps:$scope.stackedSteps},bars:{show:$scope.stackedBars,barWidth:.6}}}};$scope.toggleOption=function(type){$scope["stacked"+type]=!$scope["stacked"+type],$scope.stackedOptions=getStackedOptions()},$scope.stackedOptions=getStackedOptions(),$scope.stackedData=[d1,d2,d3],$scope.pieData=[{label:"Series1",data:10},{label:"Series2",data:30},{label:"Series3",data:90},{label:"Series4",data:70},{label:"Series5",data:80},{label:"Series6",data:110}],$scope.$on("$destroy",function(){$timeout.cancel(promise)})}]).directive("flotChart",function(){return{restrict:"AE",scope:{data:"=flotData",options:"=flotOptions",plothover:"&plotHover",plotclick:"&plotClick"},link:function(scope,element,attr){var plot=$.plot($(element),scope.data,scope.options);$(element).bind("plothover",function(event,position,item){scope.plothover({event:event,position:position,item:item})}),$(element).bind("plotclick",function(event,position,item){scope.plotclick({event:event,position:position,item:item})}),scope.$watch("data",function(newVal,oldVal){plot.setData(newVal),plot.draw()}),scope.$watch("options",function(newVal,oldVal){plot=$.plot($(element),scope.data,newVal)},!0)}}}),angular.module("theme.charts-svg",[]).directive("svgChart",function(){return{restrict:"EA",scope:{options:"=svgChart",type:"="},link:function(scope,element,attr){if(Morris){var elementId;elementId=$(element).attr("id")?$(element).attr("id"):$(element).attr("id",scope.type+attr.svgChart),Morris[scope.type](angular.extend(scope.options,{element:elementId}))}}}}).controller("SvgChartsController",["$scope",function($scope){$scope.lineChart={data:[{y:"2006",a:100,b:90},{y:"2007",a:75,b:65},{y:"2008",a:50,b:40},{y:"2009",a:75,b:65},{y:"2010",a:50,b:40},{y:"2011",a:75,b:65},{y:"2012",a:100,b:90}],xkey:"y",ykeys:["a","b"],labels:["Series A","Series B"]},$scope.barChart={data:[{y:"2006",a:100,b:90},{y:"2007",a:75,b:65},{y:"2008",a:50,b:40},{y:"2009",a:75,b:65},{y:"2010",a:50,b:40},{y:"2011",a:75,b:65},{y:"2012",a:100,b:90}],xkey:"y",ykeys:["a","b"],labels:["Series A","Series B"]},$scope.donutChart={data:[{label:"Download Sales",value:12},{label:"In-Store Sales",value:30},{label:"Mail-Order Sales",value:20}]},$scope.areaChart={data:[{y:"2006",a:100,b:90},{y:"2007",a:75,b:65},{y:"2008",a:50,b:40},{y:"2009",a:75,b:65},{y:"2010",a:50,b:40},{y:"2011",a:75,b:65},{y:"2012",a:100,b:90}],xkey:"y",ykeys:["a","b"],labels:["Series A","Series B"]}}]),angular.module("theme.charts-canvas",[]).controller("CanvasChartsController",["$scope",function($scope){$scope.lineChartData={labels:["January","February","March","April","May","June","July"],datasets:[{fillColor:"rgba(220,220,220,0.5)",strokeColor:"rgba(220,220,220,1)",pointColor:"rgba(220,220,220,1)",pointStrokeColor:"#fff",data:[65,59,90,81,56,55,40]},{fillColor:"rgba(151,187,205,0.5)",strokeColor:"rgba(151,187,205,1)",pointColor:"rgba(151,187,205,1)",pointStrokeColor:"#fff",data:[28,48,40,19,96,27,100]}]},$scope.barChartData={labels:["January","February","March","April","May","June","July"],datasets:[{fillColor:"rgba(220,220,220,0.5)",strokeColor:"rgba(220,220,220,1)",data:[65,59,90,81,56,55,40]},{fillColor:"rgba(151,187,205,0.5)",strokeColor:"rgba(151,187,205,1)",data:[28,48,40,19,96,27,100]}]},$scope.radarChartData={labels:["Eating","Drinking","Sleeping","Designing","Coding","Partying","Running"],datasets:[{fillColor:"rgba(220,220,220,0.5)",strokeColor:"rgba(220,220,220,1)",pointColor:"rgba(220,220,220,1)",pointStrokeColor:"#fff",data:[65,59,90,81,56,55,40]},{fillColor:"rgba(151,187,205,0.5)",strokeColor:"rgba(151,187,205,1)",pointColor:"rgba(151,187,205,1)",pointStrokeColor:"#fff",data:[28,48,40,19,96,27,100]}]},$scope.pieData=[{value:30,color:"#F38630"},{value:50,color:"#E0E4CC"},{value:100,color:"#69D2E7"}],$scope.polarAreaData=[{value:Math.random(),color:"#D97041"},{value:Math.random(),color:"#C7604C"},{value:Math.random(),color:"#21323D"},{value:Math.random(),color:"#9D9B7F"},{value:Math.random(),color:"#7D4F6D"},{value:Math.random(),color:"#584A5E"}],$scope.doughnutData=[{value:30,color:"#F7464A"},{value:50,color:"#46BFBD"},{value:100,color:"#FDB45C"},{value:40,color:"#949FB1"},{value:120,color:"#4D5360"}]}]).directive("canvasChart",function(){return{restrict:"EA",scope:{data:"=canvasChart",options:"=options",type:"="},link:function(scope,element,attr){Chart&&new Chart($(element)[0].getContext("2d"))[scope.type](scope.data,scope.options)}}}),angular.module("theme.charts-inline",[]).directive("sparklines",["$timeout",function($timeout){return{restrict:"A",scope:{options:"=sparklines",values:"=data"},link:function(scope,element,attr){var options={};if(scope.options)var options=angular.copy(scope.options);var container=$(element).closest("sparklines-composite"),target=element;container.length&&(container.find("span.sparklines-container").length<1&&container.append('<span class="sparklines-container"></span>'),target=container.find("span.sparklines-container"),target.find("canvas").length&&(options.composite=!0),attr.values?target.attr("values",attr.values):target.removeAttr("values")),scope.$watch(function(){return element.is(":visible")},function(){scope.values?$(target).sparkline(scope.values,options):$(target).sparkline("html",options)})}}}]),angular.module("angularPassportService",[]),angular.module("angularPassportService").factory("Auth",function($location,$rootScope,Session,User,Admin,$cookieStore,$http,$q){return $rootScope.currentUser=$cookieStore.get("user")||null,$cookieStore.remove("user"),{login:function(user,callback){var cb=callback||angular.noop;Session.save({email:user.email,password:user.password},function(user){return $rootScope.currentUser=user,cb()},function(err){return cb(err.data)})},groups:function(){return $http.get("/devops/group")},users:function(){return $http.get("/devops/users")},stacks:function(){return $http.get("/devops/stack")},instances:function(){return $http.get("/devops/instance")},deploys:function(){return $http.get("/devops/deploy")},deleteUser:function(id){return $http["delete"]("/devops/user/"+id)},deleteGroup:function(id){return $http["delete"]("/devops/group/"+id)},deleteInstance:function(id){return $http["delete"]("/devops/instance/"+id)},deleteStack:function(id){return $http["delete"]("/devops/stack/"+id)},deleteDeploy:function(id){return $http["delete"]("/devops/deploy/"+id)},logout:function(callback){var cb=callback||angular.noop;Session["delete"](function(res){return $rootScope.currentUser=null,cb()},function(err){return cb(err.data)})},createStack:function(stack){return $http.put("/devops/stack",stack)},createInstance:function(instance){return $http.put("/devops/instance",instance)},createGroup:function(group){return $http.put("/devops/group",group)},createDeploy:function(deploy){return $http.put("/devops/deploy",deploy)},createUser:function(userinfo){return $http.post("/auth/users",userinfo)},currentUser:function(){Session.get(function(user){$rootScope.currentUser=user})},updateUser:function(userId,data){var url="/devops/user/{userId}/group".replace("{userId}",userId);return $http.post(url,data)},updateStack:function(stackId,data){var url="/devops/stack/{stackId}".replace("{stackId}",stackId);return $http.post(url,data)},updateInstance:function(instanceId,data){var url="/devops/instance/{instanceId}".replace("{instanceId}",instanceId);return $http.post(url,data)},changePassword:function(email,oldPassword,newPassword,callback){var cb=callback||angular.noop;User.update({email:email,oldPassword:oldPassword,newPassword:newPassword},function(user){return console.log("password changed"),cb()},function(err){return cb(err.data)})},removeUser:function(email,password,callback){var cb=callback||angular.noop;User["delete"]({email:email,password:password},function(user){return console.log(user+"removed"),cb()},function(err){return cb(err.data)})}}}),angular.module("angularPassportService").factory("Session",function($resource){return $resource("/auth/session/")}),angular.module("angularPassportService").factory("User",function($resource){return $resource("/auth/users/:id/",{},{update:{method:"PUT"}})}),angular.module("angularPassportService").factory("Admin",function($resource){return $resource("/auth/admin/users/:id/",{},{update:{method:"PUT"}})}),angular.module("themesApp",["monospaced.elastic","easypiechart","toggle-switch","ui.bootstrap","ui.tree","ui.select2","ngGrid","xeditable","flow","theme.services","theme.directives","theme.navigation-controller","theme.messages-controller","theme.layout-horizontal","theme.layout-boxed","theme.vector_maps","theme.calendars","theme.gallery","theme.tasks","theme.pages-controllers","theme.dashboard","theme.templates","theme.template-overrides","ngCookies","ngResource","ngSanitize","ngRoute","ngAnimate","http-auth-interceptor","angularPassportService","vs-repeat","theme.form-components","theme.charts-flot","theme.charts-svg","theme.charts-canvas","theme.charts-inline","theme.echo-controllers","rx","themes.nvd3-directive"]).controller("MainController",["$scope","$global","$timeout","progressLoader","$location","Auth",function($scope,$global,$timeout,progressLoader,$location,Auth){$scope.style_fixedHeader=$global.get("fixedHeader"),$scope.style_headerBarHidden=$global.get("headerBarHidden"),$scope.style_layoutBoxed=$global.get("layoutBoxed"),$scope.style_fullscreen=$global.get("fullscreen"),$scope.style_leftbarCollapsed=$global.get("leftbarCollapsed"),$scope.style_leftbarShown=$global.get("leftbarShown"),$scope.style_rightbarCollapsed=$global.get("rightbarCollapsed"),$scope.style_isSmallScreen=!1,$scope.style_showSearchCollapsed=$global.get("showSearchCollapsed"),$scope.style_layoutHorizontal=$global.get("layoutHorizontal"),$scope.logOut=function(){Auth.logout(function(){$location.path("/extras-login2")})},$scope.hideSearchBar=function(){$global.set("showSearchCollapsed",!1)},$scope.hideHeaderBar=function(){$global.set("headerBarHidden",!0)},$scope.showHeaderBar=function($event){$event.stopPropagation(),$global.set("headerBarHidden",!1)},$scope.toggleLeftBar=function(){return $scope.style_isSmallScreen?$global.set("leftbarShown",!$scope.style_leftbarShown):void $global.set("leftbarCollapsed",!$scope.style_leftbarCollapsed)},$scope.toggleRightBar=function(){$global.set("rightbarCollapsed",!$scope.style_rightbarCollapsed)},$scope.$on("globalStyles:changed",function(event,newVal){$scope["style_"+newVal.key]=newVal.value}),$scope.$on("globalStyles:maxWidth767",function(event,newVal){$timeout(function(){$scope.style_isSmallScreen=newVal,newVal?$global.set("leftbarCollapsed",!1):$global.set("leftbarShown",!1)})}),$scope.rightbarAccordionsShowOne=!1,$scope.rightbarAccordions=[{open:!0},{open:!0},{open:!0},{open:!0},{open:!0},{open:!0},{open:!0}],$scope.$on("$routeChangeStart",function(e){progressLoader.start(),progressLoader.set(50)}),$scope.$on("$routeChangeSuccess",function(e){progressLoader.end()})}]).config(["$provide","$routeProvider","$locationProvider",function($provide,$routeProvider,$locationProvider){$routeProvider.when("/",{templateUrl:"views/index.html"}).when("/calendar",{templateUrl:"views/calendar.html",resolve:{lazyLoad:["lazyLoad",function(lazyLoad){return lazyLoad.load(["assets/plugins/fullcalendar/fullcalendar.js"])}]}}).when("/form-ckeditor",{templateUrl:"views/form-ckeditor.html",resolve:{lazyLoad:["lazyLoad",function(lazyLoad){return lazyLoad.load(["assets/plugins/form-ckeditor/ckeditor.js","assets/plugins/form-ckeditor/lang/en.js"])}]}}).when("/form-imagecrop",{templateUrl:"views/form-imagecrop.html",resolve:{lazyLoad:["lazyLoad",function(lazyLoad){return lazyLoad.load(["assets/plugins/jcrop/js/jquery.Jcrop.js"])}]}}).when("/form-wizard",{templateUrl:"views/form-wizard.html",resolve:{lazyLoad:["lazyLoad",function(lazyLoad){return lazyLoad.load(["bower_components/jquery-validation/dist/jquery.validate.js","bower_components/stepy/lib/jquery.stepy.js"])}]}}).when("/form-masks",{templateUrl:"views/form-masks.html",resolve:{lazyLoad:["lazyLoad",function(lazyLoad){return lazyLoad.load(["bower_components/jquery.inputmask/dist/jquery.inputmask.bundle.js"])}]}}).when("/maps-vector",{templateUrl:"views/maps-vector.html",resolve:{lazyLoad:["lazyLoad",function(lazyLoad){return lazyLoad.load(["bower_components/jqvmap/jqvmap/maps/jquery.vmap.europe.js","bower_components/jqvmap/jqvmap/maps/jquery.vmap.usa.js"])}]}}).when("/charts-canvas",{templateUrl:"views/charts-canvas.html",resolve:{lazyLoad:["lazyLoad",function(lazyLoad){return lazyLoad.load(["bower_components/Chart.js/Chart.min.js"])}]}}).when("/charts-svg",{templateUrl:"views/charts-svg.html",resolve:{lazyLoad:["lazyLoad",function(lazyLoad){return lazyLoad.load(["bower_components/raphael/raphael.js","bower_components/morris.js/morris.js"])}]}}).when("/:templateFile",{templateUrl:function(param){return"views/"+param.templateFile+".html"},accessLevel:"public"}).otherwise({redirectTo:"/"})}]).run(function($rootScope,$location,Auth,$route){var excludePath=["/admin-signup","/extras-login2","/extras-signupform"];-1===_.indexOf(excludePath,$location.path())&&Auth.currentUser(),$rootScope.$on("event:auth-loginRequired",function(){return $location.path("/extras-login2"),!1}),$rootScope.$on("$locationChangeStart",function(event,next,current){$route.routes[$location.path()];if(-1===_.indexOf(excludePath,$location.path()))return $rootScope.currentUser?void 0:($location.path("/extras-login2"),!1)})}),angular.module("theme.pages-controllers").controller("userManagementController",["$q","$location","$scope","$global","$rootScope","Auth","$http","$modal","$log","Util",function($q,$location,$scope,$global,$rootScope,Auth,$http,$modal,$log,Util){$scope.group={},$scope.onDeleteBtnClick=function(){return $scope.activeUser?void Auth.deleteUser($scope.activeUser._id).then(function(result){Util.removeItem($scope.users,$scope.activeUser)}):void alert("No user selected")},$scope.deleteGroup=function(group){Auth.deleteGroup(group._id).then(function(result){Util.removeItem($scope.groups,group)})},$scope.loadUsers=function(){Auth.users().then(function(users){$scope.users=users.data})},Auth.groups().then(function(groups){$scope.groups=groups.data}),Auth.users().then(function(users){$scope.users=users.data}),Auth.stacks().then(function(stacks){$scope.stacks=stacks.data}),Auth.instances().then(function(instances){$scope.instances=instances.data}),$scope.applyIconClass=function(obj){var cls;switch(obj.disabled){case!0:cls=" glyphicon-folder-close";break;default:cls=" glyphicon-folder-open"}return cls},$scope.signUp=function(form){Auth.createUser($scope.user).then(function(user){delete $scope.error,delete $scope.errors,$scope.loadUsers()})["catch"](function(err){$scope.error=err.data.message,$scope.errors=err.data.errors,angular.forEach($scope.errors,function(error,field){form[field].$setValidity("mongoose",!1)})})},$scope.selectUser=function(user,$index){$scope.activeUser=user,$scope.selectedIndex=$index},$scope.checkActive=function(user){return $scope.activeUser==user?"active":""},$scope.addGroup=function(form){Auth.createGroup($scope.group).then(function(group){$scope.groups.push(group.data),delete $scope.error})["catch"](function(err){$scope.error=err.data.message})},$scope.modify=function(size){if(!$scope.activeUser)return alert("You have to select a user first"),!1;var modalInstance=$modal.open({templateUrl:"userModification.html",controller:function($scope,$modalInstance,stacks,instances,groups){$scope.stacks=stacks,$scope.instances=instances,$scope.groups=groups,$scope.selected={stacks:[],instances:[],groups:[]},$scope.ok=function(){$modalInstance.close($scope.selected)},$scope.cancel=function(){$modalInstance.dismiss("cancel")}},size:size,resolve:{stacks:function(){return $scope.stacks},instances:function(){return $scope.instances},groups:function(){return $scope.groups}}});modalInstance.result.then(function(selectedItem){Auth.updateUser($scope.activeUser._id,{groups:selectedItem.groups,firstname:selectedItem.firstname,lastname:selectedItem.lastname,email:selectedItem.email,username:selectedItem.username,password:selectedItem.password}).then(function(res){$scope.activeUser=res.data,$scope.users[$scope.selectedIndex]=$scope.activeUser})},function(){$log.info("Modal dismissed at: "+new Date)})}}]),angular.module("theme.echo-controllers",["rx"]).factory("primus",function(){return new Primus}).factory("chartRealtime",function($location){return new Primus([$location.protocol(),"://",$location.host(),":",$location.port(),"?type=chart"].join(""))}).controller("realTimeChartController",function($scope,$http,$window,chartRealtime){function initScope(tsvData){var data=$window.d3.tsv.parse(tsvData);data.forEach(function(d){d.date=parseDate(d.date),d.close=parseInt(d.close)}),$scope.allData=data.slice(0),$scope.plotData=data.slice(0)}function updateScope(data){console.log(data);var date=data.split("	")[0],price=data.split("	")[1];data={close:parseInt(price),date:parseDate(date)},$scope.allData.push(data),$scope.plotData.push(data),$scope.plotData.shift()}var parseDate=$window.d3.time.format("%d-%b-%y").parse;$scope.allData=[],$scope.plotData=[],$http.get("/data/initial-data.tsv").success(function(data){initScope(data)}),chartRealtime.on("data",updateScope)}).controller("echoController",function($scope,rx,$http,primus){function searchWikipedia(term){return rx.Observable.fromPromise($http({url:"http://en.wikipedia.org/w/api.php?&callback=JSON_CALLBACK",method:"jsonp",params:{action:"opensearch",search:term,format:"json"}})).map(function(response){return response.data[1]})}$scope.reply="",primus.on("data",function(data){$scope.reply+=data+"\n"}),$scope.echo=function(){primus.write($scope.message),$scope.message=""},$scope.search="",$scope.results=[],$scope.$createObservableFunction("click").map(function(){return $scope.search}).flatMapLatest(searchWikipedia).subscribe(function(results){$scope.results=results})});